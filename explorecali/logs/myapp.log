2023-01-28T00:06:19.751-03:00  INFO 6352 --- [main] c.e.ec.ExplorecaliApplicationTests       : Starting ExplorecaliApplicationTests using Java 18.0.2.1 with PID 6352 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T00:06:19.755-03:00 DEBUG 6352 --- [main] c.e.ec.ExplorecaliApplicationTests       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T00:06:19.757-03:00  INFO 6352 --- [main] c.e.ec.ExplorecaliApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T00:06:20.452-03:00  INFO 6352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T00:06:20.505-03:00  INFO 6352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2023-01-28T00:06:20.970-03:00  INFO 6352 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T00:06:21.119-03:00  INFO 6352 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:7b01b4f3-c104-4e06-bf47-f4c2eee24c86 user=SA
2023-01-28T00:06:21.120-03:00  INFO 6352 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T00:06:21.266-03:00  INFO 6352 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T00:06:21.314-03:00  INFO 6352 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T00:06:21.349-03:00  WARN 6352 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T00:06:21.452-03:00  INFO 6352 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T00:06:22.052-03:00  INFO 6352 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T00:06:22.059-03:00  INFO 6352 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:06:22.655-03:00  WARN 6352 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T00:06:23.540-03:00  INFO 6352 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ff65426, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bdf6d63, org.springframework.security.web.context.SecurityContextHolderFilter@3a034950, org.springframework.security.web.header.HeaderWriterFilter@7c7d83ff, org.springframework.security.web.authentication.logout.LogoutFilter@7510824, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38f7a20, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c39c520, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6d4bb60f, org.springframework.security.web.session.SessionManagementFilter@628d6320, org.springframework.security.web.access.ExceptionTranslationFilter@57fe6f2d, org.springframework.security.web.access.intercept.AuthorizationFilter@eb5471c]
2023-01-28T00:06:24.047-03:00  INFO 6352 --- [main] c.e.ec.ExplorecaliApplicationTests       : Started ExplorecaliApplicationTests in 4.534 seconds (process running for 5.835)
2023-01-28T00:06:24.083-03:00  INFO 6352 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.repo.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:06:24.092-03:00  INFO 6352 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.repo.UserRepositoryTest
2023-01-28T00:06:24.241-03:00  INFO 6352 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.TourRatingServiceIntegrationTest]: TourRatingServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:06:24.246-03:00  INFO 6352 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.TourRatingServiceIntegrationTest
2023-01-28T00:06:24.257-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T00:06:24.305-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:06:24.311-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 4
2023-01-28T00:06:24.323-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:06:24.341-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T00:06:24.361-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T00:06:24.369-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T00:06:24.375-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T00:06:24.381-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:06:24.385-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [100, 101, 102]
2023-01-28T00:06:24.386-03:00 DEBUG 6352 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 100
2023-01-28T00:06:24.388-03:00 DEBUG 6352 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 101
2023-01-28T00:06:24.390-03:00 DEBUG 6352 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 102
2023-01-28T00:06:24.391-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:06:24.398-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T00:06:24.590-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T00:06:24.597-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 123
2023-01-28T00:06:24.610-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 123
2023-01-28T00:06:24.613-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Update some of Rating for tour 1 of customers 123
2023-01-28T00:06:24.616-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [123, 124]
2023-01-28T00:06:24.616-03:00 DEBUG 6352 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 123
2023-01-28T00:06:24.616-03:00 DEBUG 6352 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 124
2023-01-28T00:06:24.621-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 123
2023-01-28T00:06:24.625-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:06:24.686-03:00  INFO 6352 --- [main] c.example.ec.service.TourRatingService   : Lookup Rating for tour 1
2023-01-28T00:06:24.853-03:00  INFO 6352 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.RatingControllerTest]: RatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:06:24.862-03:00  INFO 6352 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.RatingControllerTest
2023-01-28T00:06:24.886-03:00  INFO 6352 --- [main] c.example.ec.web.RatingControllerTest    : Starting RatingControllerTest using Java 18.0.2.1 with PID 6352 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T00:06:24.886-03:00 DEBUG 6352 --- [main] c.example.ec.web.RatingControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T00:06:24.886-03:00  INFO 6352 --- [main] c.example.ec.web.RatingControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T00:06:25.065-03:00  INFO 6352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T00:06:25.076-03:00  INFO 6352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 5 JPA repository interfaces.
2023-01-28T00:06:25.256-03:00  INFO 6352 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T00:06:25.265-03:00  INFO 6352 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T00:06:25.266-03:00  INFO 6352 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T00:06:25.327-03:00  INFO 6352 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T00:06:25.327-03:00  INFO 6352 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 439 ms
2023-01-28T00:06:25.399-03:00  INFO 6352 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-01-28T00:06:25.405-03:00  INFO 6352 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:01417ecf-f078-47f3-8866-fa403192fb9e user=SA
2023-01-28T00:06:25.406-03:00  INFO 6352 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-01-28T00:06:25.439-03:00  INFO 6352 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T00:06:25.441-03:00  WARN 6352 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T00:06:25.444-03:00  INFO 6352 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T00:06:25.497-03:00  INFO 6352 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T00:06:25.497-03:00  INFO 6352 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:06:25.652-03:00  WARN 6352 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T00:06:26.581-03:00  INFO 6352 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@29d534ce, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a3761a, org.springframework.security.web.context.SecurityContextHolderFilter@2ba3b4a6, org.springframework.security.web.header.HeaderWriterFilter@6d553763, org.springframework.security.web.authentication.logout.LogoutFilter@21d131e7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44473749, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@edfe8d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@509cf73a, org.springframework.security.web.session.SessionManagementFilter@5278bc6d, org.springframework.security.web.access.ExceptionTranslationFilter@7263ad06, org.springframework.security.web.access.intercept.AuthorizationFilter@3327337a]
2023-01-28T00:06:27.112-03:00  INFO 6352 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 55582 (http) with context path ''
2023-01-28T00:06:27.116-03:00  INFO 6352 --- [main] c.example.ec.web.RatingControllerTest    : Started RatingControllerTest in 2.25 seconds (process running for 8.903)
2023-01-28T00:06:27.248-03:00  INFO 6352 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T00:06:27.248-03:00  INFO 6352 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T00:06:27.249-03:00  INFO 6352 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-01-28T00:06:27.278-03:00  INFO 6352 --- [http-nio-auto-1-exec-1] com.example.ec.web.RatingController      : GET /ratings/{id}
2023-01-28T00:06:27.340-03:00  INFO 6352 --- [http-nio-auto-1-exec-2] com.example.ec.web.RatingController      : GET /ratings
2023-01-28T00:06:27.349-03:00  INFO 6352 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.TourRatingControllerTest]: TourRatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:06:27.350-03:00  INFO 6352 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.TourRatingControllerTest
2023-01-28T00:06:27.360-03:00  INFO 6352 --- [http-nio-auto-1-exec-3] c.example.ec.web.TourRatingController    : DELETE /tours/999/ratings/1000
2023-01-28T00:06:27.375-03:00  INFO 6352 --- [http-nio-auto-1-exec-4] c.example.ec.web.TourRatingController    : GET /tours/999/ratings
2023-01-28T00:06:27.429-03:00  INFO 6352 --- [http-nio-auto-1-exec-5] c.example.ec.web.TourRatingController    : PUT /tours/999/ratings
2023-01-28T00:06:27.441-03:00  INFO 6352 --- [http-nio-auto-1-exec-6] c.example.ec.web.TourRatingController    : POST /tours/999/ratings
2023-01-28T00:06:27.449-03:00  INFO 6352 --- [http-nio-auto-1-exec-7] c.example.ec.web.TourRatingController    : GET /tours/999/ratings/average
2023-01-28T00:06:27.460-03:00  INFO 6352 --- [http-nio-auto-1-exec-8] c.example.ec.web.TourRatingController    : POST /tours/999/ratings/3
2023-01-28T00:06:27.474-03:00  INFO 6352 --- [http-nio-auto-1-exec-9] c.example.ec.web.TourRatingController    : PATCH /tours/999/ratings
2023-01-28T00:06:27.567-03:00  INFO 6352 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:06:27.569-03:00  INFO 6352 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T00:06:27.603-03:00  INFO 6352 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T00:06:27.617-03:00  INFO 6352 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:06:27.618-03:00  INFO 6352 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-01-28T00:06:27.647-03:00  INFO 6352 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2023-01-28T00:06:43.363-03:00  INFO 24380 --- [main] com.example.ec.ExplorecaliApplication    : Starting ExplorecaliApplication v0.0.1-SNAPSHOT using Java 18.0.2.1 with PID 24380 (D:\javaestudos\explorecali\target\explorecali-0.0.1-SNAPSHOT.jar started by Victor in D:\javaestudos\explorecali)
2023-01-28T00:06:43.365-03:00 DEBUG 24380 --- [main] com.example.ec.ExplorecaliApplication    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T00:06:43.367-03:00  INFO 24380 --- [main] com.example.ec.ExplorecaliApplication    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T00:06:44.202-03:00  INFO 24380 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T00:06:44.253-03:00  INFO 24380 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2023-01-28T00:06:44.928-03:00  INFO 24380 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-01-28T00:06:44.939-03:00  INFO 24380 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T00:06:44.940-03:00  INFO 24380 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T00:06:45.006-03:00  INFO 24380 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T00:06:45.006-03:00  INFO 24380 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1584 ms
2023-01-28T00:06:45.107-03:00  INFO 24380 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T00:06:45.303-03:00  INFO 24380 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:2e8e77ec-5cfd-4299-bac2-f9ce475661db user=SA
2023-01-28T00:06:45.306-03:00  INFO 24380 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T00:06:45.458-03:00  INFO 24380 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T00:06:45.508-03:00  INFO 24380 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T00:06:45.651-03:00  WARN 24380 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T00:06:45.756-03:00  INFO 24380 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T00:06:46.430-03:00  INFO 24380 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T00:06:46.437-03:00  INFO 24380 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:06:47.020-03:00  WARN 24380 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T00:06:47.802-03:00  INFO 24380 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@68ab6ab0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61ffd148, org.springframework.security.web.context.SecurityContextHolderFilter@6f347d7, org.springframework.security.web.header.HeaderWriterFilter@61bb1e4d, org.springframework.security.web.authentication.logout.LogoutFilter@7741771e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c134052, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69de5bed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58324c9f, org.springframework.security.web.session.SessionManagementFilter@5ff00507, org.springframework.security.web.access.ExceptionTranslationFilter@738d37fc, org.springframework.security.web.access.intercept.AuthorizationFilter@2785db06]
2023-01-28T00:06:48.164-03:00  INFO 24380 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-01-28T00:06:48.180-03:00  INFO 24380 --- [main] com.example.ec.ExplorecaliApplication    : Started ExplorecaliApplication in 5.126 seconds (process running for 5.725)
2023-01-28T00:06:53.612-03:00  INFO 24380 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T00:06:53.612-03:00  INFO 24380 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T00:06:53.615-03:00  INFO 24380 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-01-28T00:06:53.716-03:00  INFO 24380 --- [http-nio-8080-exec-2] com.example.ec.service.UserService       : Authenticating with username: admin and password: letmein
2023-01-28T00:08:54.366-03:00  INFO 24380 --- [http-nio-8080-exec-5] com.example.ec.service.UserService       : Authenticating with username: admin and password: letmein
2023-01-28T00:12:45.202-03:00  INFO 24380 --- [http-nio-8080-exec-8] com.example.ec.service.UserService       : Authenticating with username: admin2 and password: letmein
2023-01-28T00:14:07.361-03:00  INFO 24380 --- [http-nio-8080-exec-1] com.example.ec.service.UserService       : Authenticating with username: admin and password: letmein
2023-01-28T00:14:25.044-03:00  INFO 24380 --- [http-nio-8080-exec-2] com.example.ec.service.UserService       : Authenticating with username: admin and password: letmein2
2023-01-28T00:14:29.006-03:00  INFO 24380 --- [http-nio-8080-exec-3] com.example.ec.service.UserService       : Authenticating with username: admin and password: letmein
2023-01-28T00:50:14.197-03:00  INFO 12616 --- [main] c.e.e.s.UserServiceIntegrationTest       : Starting UserServiceIntegrationTest using Java 18.0.2.1 with PID 12616 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T00:50:14.197-03:00 DEBUG 12616 --- [main] c.e.e.s.UserServiceIntegrationTest       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T00:50:14.198-03:00  INFO 12616 --- [main] c.e.e.s.UserServiceIntegrationTest       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T00:50:14.894-03:00  INFO 12616 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T00:50:14.947-03:00  INFO 12616 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2023-01-28T00:50:15.391-03:00  INFO 12616 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T00:50:15.558-03:00  INFO 12616 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:03eb0ee8-bfe9-4346-a783-43e264d7538a user=SA
2023-01-28T00:50:15.559-03:00  INFO 12616 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T00:50:15.700-03:00  INFO 12616 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T00:50:15.750-03:00  INFO 12616 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T00:50:15.885-03:00  WARN 12616 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T00:50:16.013-03:00  INFO 12616 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T00:50:16.721-03:00  INFO 12616 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T00:50:16.728-03:00  INFO 12616 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:50:17.381-03:00  WARN 12616 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T00:50:18.234-03:00  INFO 12616 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@33fc92d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e2e11ee, org.springframework.security.web.context.SecurityContextHolderFilter@506d7fed, org.springframework.security.web.header.HeaderWriterFilter@5eaa4ed0, org.springframework.security.web.authentication.logout.LogoutFilter@261c5d1f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@381d7c4c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e3689e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@189f9f9f, org.springframework.security.web.session.SessionManagementFilter@4d20cbb5, org.springframework.security.web.access.ExceptionTranslationFilter@104e6540, org.springframework.security.web.access.intercept.AuthorizationFilter@369d624d]
2023-01-28T00:50:18.720-03:00  INFO 12616 --- [main] c.e.e.s.UserServiceIntegrationTest       : Started UserServiceIntegrationTest in 4.686 seconds (process running for 5.997)
2023-01-28T00:50:18.966-03:00  INFO 12616 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: com.example.ec.domain.Role@4537c9f8.
2023-01-28T00:50:19.246-03:00  WARN 12616 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2023-01-28T00:50:19.246-03:00 ERROR 12616 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.SECURITY_USER(ID) ( /* key:1 */ CAST(1 AS BIGINT), 'admin', '$2a$12$ZhGS.zcWt1gnZ9xRNp7inOvo5hIT0ngN7N.pN939cShxKvaQYHnnu', 'Administrator', 'Adminstrator')"; SQL statement:
insert into security_user (id, first_name, last_name, password, username) values (default, ?, ?, ?, ?) [23505-214]
2023-01-28T00:50:19.275-03:00  INFO 12616 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:50:19.278-03:00  INFO 12616 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T00:50:19.280-03:00  INFO 12616 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T00:53:15.170-03:00  INFO 22236 --- [main] c.e.e.s.UserServiceIntegrationTest       : Starting UserServiceIntegrationTest using Java 18.0.2.1 with PID 22236 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T00:53:15.170-03:00 DEBUG 22236 --- [main] c.e.e.s.UserServiceIntegrationTest       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T00:53:15.171-03:00  INFO 22236 --- [main] c.e.e.s.UserServiceIntegrationTest       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T00:53:15.935-03:00  INFO 22236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T00:53:15.996-03:00  INFO 22236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2023-01-28T00:53:16.456-03:00  INFO 22236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T00:53:16.626-03:00  INFO 22236 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:c1bf3bf8-b666-40e4-ad9c-cc160dab566d user=SA
2023-01-28T00:53:16.630-03:00  INFO 22236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T00:53:16.784-03:00  INFO 22236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T00:53:16.836-03:00  INFO 22236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T00:53:16.972-03:00  WARN 22236 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T00:53:17.083-03:00  INFO 22236 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T00:53:17.787-03:00  INFO 22236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T00:53:17.794-03:00  INFO 22236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:53:18.485-03:00  WARN 22236 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T00:53:19.363-03:00  INFO 22236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e818345, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d9c69f8, org.springframework.security.web.context.SecurityContextHolderFilter@f36c8b1, org.springframework.security.web.header.HeaderWriterFilter@3b22bcad, org.springframework.security.web.authentication.logout.LogoutFilter@495a9305, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@109f95b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d20cbb5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1235732d, org.springframework.security.web.session.SessionManagementFilter@6a08113d, org.springframework.security.web.access.ExceptionTranslationFilter@38276668, org.springframework.security.web.access.intercept.AuthorizationFilter@570089c4]
2023-01-28T00:53:19.831-03:00  INFO 22236 --- [main] c.e.e.s.UserServiceIntegrationTest       : Started UserServiceIntegrationTest in 4.838 seconds (process running for 5.993)
2023-01-28T00:53:20.090-03:00  INFO 22236 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T00:53:20.377-03:00  WARN 22236 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2023-01-28T00:53:20.377-03:00 ERROR 22236 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.SECURITY_USER(ID) ( /* key:1 */ CAST(1 AS BIGINT), 'admin', '$2a$12$ZhGS.zcWt1gnZ9xRNp7inOvo5hIT0ngN7N.pN939cShxKvaQYHnnu', 'Administrator', 'Adminstrator')"; SQL statement:
insert into security_user (id, first_name, last_name, password, username) values (default, ?, ?, ?, ?) [23505-214]
2023-01-28T00:53:20.409-03:00  INFO 22236 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:53:20.412-03:00  INFO 22236 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T00:53:20.414-03:00  INFO 22236 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T00:54:03.126-03:00  INFO 24380 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:54:03.130-03:00  INFO 24380 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T00:54:03.135-03:00  INFO 24380 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T00:54:12.458-03:00  INFO 21656 --- [main] c.e.ec.ExplorecaliApplicationTests       : Starting ExplorecaliApplicationTests using Java 18.0.2.1 with PID 21656 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T00:54:12.459-03:00 DEBUG 21656 --- [main] c.e.ec.ExplorecaliApplicationTests       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T00:54:12.460-03:00  INFO 21656 --- [main] c.e.ec.ExplorecaliApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T00:54:13.100-03:00  INFO 21656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T00:54:13.159-03:00  INFO 21656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2023-01-28T00:54:13.678-03:00  INFO 21656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T00:54:13.855-03:00  INFO 21656 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:da0f5dfb-1419-4385-87a4-b01b14e948da user=SA
2023-01-28T00:54:13.857-03:00  INFO 21656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T00:54:14.020-03:00  INFO 21656 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T00:54:14.061-03:00  INFO 21656 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T00:54:14.091-03:00  WARN 21656 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T00:54:14.194-03:00  INFO 21656 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T00:54:14.835-03:00  INFO 21656 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T00:54:14.842-03:00  INFO 21656 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:54:15.498-03:00  WARN 21656 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T00:54:16.440-03:00  INFO 21656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@49e8548d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fb920d9, org.springframework.security.web.context.SecurityContextHolderFilter@42718ebf, org.springframework.security.web.header.HeaderWriterFilter@504a9352, org.springframework.security.web.authentication.logout.LogoutFilter@5f113867, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c7008b4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f54fabc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d3a147f, org.springframework.security.web.session.SessionManagementFilter@5cc28282, org.springframework.security.web.access.ExceptionTranslationFilter@6f959640, org.springframework.security.web.access.intercept.AuthorizationFilter@64b242b3]
2023-01-28T00:54:17.014-03:00  INFO 21656 --- [main] c.e.ec.ExplorecaliApplicationTests       : Started ExplorecaliApplicationTests in 4.764 seconds (process running for 6.084)
2023-01-28T00:54:17.044-03:00  INFO 21656 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.repo.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:54:17.052-03:00  INFO 21656 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.repo.UserRepositoryTest
2023-01-28T00:54:17.203-03:00  INFO 21656 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.TourRatingServiceIntegrationTest]: TourRatingServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:54:17.209-03:00  INFO 21656 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.TourRatingServiceIntegrationTest
2023-01-28T00:54:17.221-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T00:54:17.260-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:54:17.265-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 4
2023-01-28T00:54:17.274-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:54:17.289-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T00:54:17.300-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T00:54:17.309-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T00:54:17.313-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T00:54:17.320-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:54:17.324-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [100, 101, 102]
2023-01-28T00:54:17.324-03:00 DEBUG 21656 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 100
2023-01-28T00:54:17.326-03:00 DEBUG 21656 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 101
2023-01-28T00:54:17.327-03:00 DEBUG 21656 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 102
2023-01-28T00:54:17.328-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:54:17.335-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T00:54:17.483-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T00:54:17.487-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 123
2023-01-28T00:54:17.494-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 123
2023-01-28T00:54:17.497-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Update some of Rating for tour 1 of customers 123
2023-01-28T00:54:17.499-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [123, 124]
2023-01-28T00:54:17.499-03:00 DEBUG 21656 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 123
2023-01-28T00:54:17.499-03:00 DEBUG 21656 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 124
2023-01-28T00:54:17.502-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 123
2023-01-28T00:54:17.504-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:54:17.550-03:00  INFO 21656 --- [main] c.example.ec.service.TourRatingService   : Lookup Rating for tour 1
2023-01-28T00:54:17.553-03:00  INFO 21656 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.UserServiceIntegrationTest]: UserServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:54:17.555-03:00  INFO 21656 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.UserServiceIntegrationTest
2023-01-28T00:54:17.563-03:00  INFO 21656 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T00:54:17.827-03:00  WARN 21656 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2023-01-28T00:54:17.827-03:00 ERROR 21656 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.SECURITY_USER(ID) ( /* key:1 */ CAST(1 AS BIGINT), 'admin', '$2a$12$ZhGS.zcWt1gnZ9xRNp7inOvo5hIT0ngN7N.pN939cShxKvaQYHnnu', 'Administrator', 'Adminstrator')"; SQL statement:
insert into security_user (id, first_name, last_name, password, username) values (default, ?, ?, ?, ?) [23505-214]
2023-01-28T00:54:17.980-03:00  INFO 21656 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.RatingControllerTest]: RatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:54:17.988-03:00  INFO 21656 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.RatingControllerTest
2023-01-28T00:54:18.009-03:00  INFO 21656 --- [main] c.example.ec.web.RatingControllerTest    : Starting RatingControllerTest using Java 18.0.2.1 with PID 21656 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T00:54:18.009-03:00 DEBUG 21656 --- [main] c.example.ec.web.RatingControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T00:54:18.009-03:00  INFO 21656 --- [main] c.example.ec.web.RatingControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T00:54:18.178-03:00  INFO 21656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T00:54:18.190-03:00  INFO 21656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 5 JPA repository interfaces.
2023-01-28T00:54:18.411-03:00  INFO 21656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T00:54:18.419-03:00  INFO 21656 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T00:54:18.419-03:00  INFO 21656 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T00:54:18.495-03:00  INFO 21656 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T00:54:18.495-03:00  INFO 21656 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 484 ms
2023-01-28T00:54:18.568-03:00  INFO 21656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-01-28T00:54:18.571-03:00  INFO 21656 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:2b5a3c11-7b32-43ee-8f39-300d20f2b33c user=SA
2023-01-28T00:54:18.571-03:00  INFO 21656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-01-28T00:54:18.606-03:00  INFO 21656 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T00:54:18.608-03:00  WARN 21656 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T00:54:18.611-03:00  INFO 21656 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T00:54:18.670-03:00  INFO 21656 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T00:54:18.671-03:00  INFO 21656 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:54:18.797-03:00  WARN 21656 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T00:54:19.708-03:00  INFO 21656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e44bc38, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2fba0d7a, org.springframework.security.web.context.SecurityContextHolderFilter@b8d8fb7, org.springframework.security.web.header.HeaderWriterFilter@1b2092fe, org.springframework.security.web.authentication.logout.LogoutFilter@2f65c341, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38913b95, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2739f91b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79b01476, org.springframework.security.web.session.SessionManagementFilter@5047fc77, org.springframework.security.web.access.ExceptionTranslationFilter@793942d9, org.springframework.security.web.access.intercept.AuthorizationFilter@7680cb52]
2023-01-28T00:54:20.178-03:00  INFO 21656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 50935 (http) with context path ''
2023-01-28T00:54:20.181-03:00  INFO 21656 --- [main] c.example.ec.web.RatingControllerTest    : Started RatingControllerTest in 2.19 seconds (process running for 9.252)
2023-01-28T00:54:20.319-03:00  INFO 21656 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T00:54:20.319-03:00  INFO 21656 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T00:54:20.320-03:00  INFO 21656 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-01-28T00:54:20.349-03:00  INFO 21656 --- [http-nio-auto-1-exec-1] com.example.ec.web.RatingController      : GET /ratings/{id}
2023-01-28T00:54:20.412-03:00  INFO 21656 --- [http-nio-auto-1-exec-2] com.example.ec.web.RatingController      : GET /ratings
2023-01-28T00:54:20.422-03:00  INFO 21656 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.TourRatingControllerTest]: TourRatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:54:20.423-03:00  INFO 21656 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.TourRatingControllerTest
2023-01-28T00:54:20.432-03:00  INFO 21656 --- [http-nio-auto-1-exec-3] c.example.ec.web.TourRatingController    : DELETE /tours/999/ratings/1000
2023-01-28T00:54:20.448-03:00  INFO 21656 --- [http-nio-auto-1-exec-4] c.example.ec.web.TourRatingController    : GET /tours/999/ratings
2023-01-28T00:54:20.506-03:00  INFO 21656 --- [http-nio-auto-1-exec-5] c.example.ec.web.TourRatingController    : PUT /tours/999/ratings
2023-01-28T00:54:20.518-03:00  INFO 21656 --- [http-nio-auto-1-exec-6] c.example.ec.web.TourRatingController    : POST /tours/999/ratings
2023-01-28T00:54:20.526-03:00  INFO 21656 --- [http-nio-auto-1-exec-7] c.example.ec.web.TourRatingController    : GET /tours/999/ratings/average
2023-01-28T00:54:20.537-03:00  INFO 21656 --- [http-nio-auto-1-exec-8] c.example.ec.web.TourRatingController    : POST /tours/999/ratings/3
2023-01-28T00:54:20.550-03:00  INFO 21656 --- [http-nio-auto-1-exec-9] c.example.ec.web.TourRatingController    : PATCH /tours/999/ratings
2023-01-28T00:54:20.556-03:00  INFO 21656 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:54:20.557-03:00  INFO 21656 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.UserControllerTest
2023-01-28T00:54:20.570-03:00  INFO 21656 --- [main] com.example.ec.web.UserControllerTest    : Starting UserControllerTest using Java 18.0.2.1 with PID 21656 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T00:54:20.571-03:00 DEBUG 21656 --- [main] com.example.ec.web.UserControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T00:54:20.571-03:00  INFO 21656 --- [main] com.example.ec.web.UserControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T00:54:20.716-03:00  INFO 21656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T00:54:20.728-03:00  INFO 21656 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 5 JPA repository interfaces.
2023-01-28T00:54:20.801-03:00  INFO 21656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T00:54:20.803-03:00  INFO 21656 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T00:54:20.803-03:00  INFO 21656 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T00:54:20.827-03:00  INFO 21656 --- [main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-01-28T00:54:20.827-03:00  INFO 21656 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 255 ms
2023-01-28T00:54:20.899-03:00  INFO 21656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2023-01-28T00:54:20.915-03:00  INFO 21656 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:d0745b11-94e3-4bc1-a4fb-55b960018065 user=SA
2023-01-28T00:54:20.915-03:00  INFO 21656 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2023-01-28T00:54:20.940-03:00  INFO 21656 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T00:54:20.942-03:00  WARN 21656 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T00:54:20.945-03:00  INFO 21656 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T00:54:20.988-03:00  INFO 21656 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T00:54:20.988-03:00  INFO 21656 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:54:21.104-03:00  WARN 21656 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T00:54:22.161-03:00  INFO 21656 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@307f6602, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f314bad, org.springframework.security.web.context.SecurityContextHolderFilter@13dabbb9, org.springframework.security.web.header.HeaderWriterFilter@65af4162, org.springframework.security.web.authentication.logout.LogoutFilter@3217aada, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a4594b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35fe64ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ff4496, org.springframework.security.web.session.SessionManagementFilter@46b0fb24, org.springframework.security.web.access.ExceptionTranslationFilter@73f94bf8, org.springframework.security.web.access.intercept.AuthorizationFilter@72efba55]
2023-01-28T00:54:22.287-03:00  INFO 21656 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 50941 (http) with context path ''
2023-01-28T00:54:22.291-03:00  INFO 21656 --- [main] com.example.ec.web.UserControllerTest    : Started UserControllerTest in 1.732 seconds (process running for 11.36)
2023-01-28T00:54:22.359-03:00  INFO 21656 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:54:22.361-03:00  INFO 21656 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T00:54:22.392-03:00  INFO 21656 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T00:54:22.406-03:00  INFO 21656 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:54:22.406-03:00  INFO 21656 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-01-28T00:54:22.434-03:00  INFO 21656 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2023-01-28T00:54:22.444-03:00  INFO 21656 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:54:22.445-03:00  INFO 21656 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2023-01-28T00:54:22.473-03:00  INFO 21656 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2023-01-28T00:59:05.030-03:00  INFO 11608 --- [main] c.e.ec.ExplorecaliApplicationTests       : Starting ExplorecaliApplicationTests using Java 18.0.2.1 with PID 11608 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T00:59:05.031-03:00 DEBUG 11608 --- [main] c.e.ec.ExplorecaliApplicationTests       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T00:59:05.032-03:00  INFO 11608 --- [main] c.e.ec.ExplorecaliApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T00:59:05.713-03:00  INFO 11608 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T00:59:05.770-03:00  INFO 11608 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2023-01-28T00:59:06.234-03:00  INFO 11608 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T00:59:06.382-03:00  INFO 11608 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:fded148f-20bb-4ec6-925e-47823974c51b user=SA
2023-01-28T00:59:06.383-03:00  INFO 11608 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T00:59:06.529-03:00  INFO 11608 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T00:59:06.574-03:00  INFO 11608 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T00:59:06.608-03:00  WARN 11608 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T00:59:06.712-03:00  INFO 11608 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T00:59:07.310-03:00  INFO 11608 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T00:59:07.316-03:00  INFO 11608 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:59:07.914-03:00  WARN 11608 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T00:59:08.811-03:00  INFO 11608 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@345f4e0d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c3eeda4, org.springframework.security.web.context.SecurityContextHolderFilter@7fd624f5, org.springframework.security.web.header.HeaderWriterFilter@4a234e1f, org.springframework.security.web.authentication.logout.LogoutFilter@7d583602, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cc28282, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a0b925a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64b242b3, org.springframework.security.web.session.SessionManagementFilter@4c364a9d, org.springframework.security.web.access.ExceptionTranslationFilter@1ff65426, org.springframework.security.web.access.intercept.AuthorizationFilter@54af9cce]
2023-01-28T00:59:09.253-03:00  INFO 11608 --- [main] c.e.ec.ExplorecaliApplicationTests       : Started ExplorecaliApplicationTests in 4.416 seconds (process running for 5.803)
2023-01-28T00:59:09.286-03:00  INFO 11608 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.repo.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:59:09.293-03:00  INFO 11608 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.repo.UserRepositoryTest
2023-01-28T00:59:09.439-03:00  INFO 11608 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.TourRatingServiceIntegrationTest]: TourRatingServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:59:09.444-03:00  INFO 11608 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.TourRatingServiceIntegrationTest
2023-01-28T00:59:09.454-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T00:59:09.481-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:59:09.486-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 4
2023-01-28T00:59:09.494-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:59:09.507-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T00:59:09.517-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T00:59:09.524-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T00:59:09.527-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T00:59:09.532-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:59:09.535-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [100, 101, 102]
2023-01-28T00:59:09.535-03:00 DEBUG 11608 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 100
2023-01-28T00:59:09.537-03:00 DEBUG 11608 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 101
2023-01-28T00:59:09.538-03:00 DEBUG 11608 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 102
2023-01-28T00:59:09.539-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:59:09.544-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T00:59:09.704-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T00:59:09.709-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 123
2023-01-28T00:59:09.716-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 123
2023-01-28T00:59:09.718-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Update some of Rating for tour 1 of customers 123
2023-01-28T00:59:09.720-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [123, 124]
2023-01-28T00:59:09.721-03:00 DEBUG 11608 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 123
2023-01-28T00:59:09.721-03:00 DEBUG 11608 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 124
2023-01-28T00:59:09.724-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 123
2023-01-28T00:59:09.727-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T00:59:09.771-03:00  INFO 11608 --- [main] c.example.ec.service.TourRatingService   : Lookup Rating for tour 1
2023-01-28T00:59:09.774-03:00  INFO 11608 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.UserServiceIntegrationTest]: UserServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:59:09.775-03:00  INFO 11608 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.UserServiceIntegrationTest
2023-01-28T00:59:09.782-03:00  INFO 11608 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T00:59:10.038-03:00  WARN 11608 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90036, SQLState: 90036
2023-01-28T00:59:10.038-03:00 ERROR 11608 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Sequence "SECURITY_USER_SEQ" not found; SQL statement:
select next value for security_user_seq [90036-214]
2023-01-28T00:59:10.177-03:00  INFO 11608 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.RatingControllerTest]: RatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:59:10.184-03:00  INFO 11608 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.RatingControllerTest
2023-01-28T00:59:10.206-03:00  INFO 11608 --- [main] c.example.ec.web.RatingControllerTest    : Starting RatingControllerTest using Java 18.0.2.1 with PID 11608 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T00:59:10.206-03:00 DEBUG 11608 --- [main] c.example.ec.web.RatingControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T00:59:10.206-03:00  INFO 11608 --- [main] c.example.ec.web.RatingControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T00:59:10.362-03:00  INFO 11608 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T00:59:10.372-03:00  INFO 11608 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 5 JPA repository interfaces.
2023-01-28T00:59:10.540-03:00  INFO 11608 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T00:59:10.547-03:00  INFO 11608 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T00:59:10.547-03:00  INFO 11608 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T00:59:10.618-03:00  INFO 11608 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T00:59:10.619-03:00  INFO 11608 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 411 ms
2023-01-28T00:59:10.687-03:00  INFO 11608 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-01-28T00:59:10.693-03:00  INFO 11608 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:7a79ea96-c3c6-4c5b-a2bb-a8577b121f49 user=SA
2023-01-28T00:59:10.693-03:00  INFO 11608 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-01-28T00:59:10.730-03:00  INFO 11608 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T00:59:10.732-03:00  WARN 11608 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T00:59:10.735-03:00  INFO 11608 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T00:59:10.796-03:00  INFO 11608 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T00:59:10.797-03:00  INFO 11608 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:59:10.925-03:00  WARN 11608 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T00:59:11.633-03:00  INFO 11608 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2fba0d7a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79b01476, org.springframework.security.web.context.SecurityContextHolderFilter@38913b95, org.springframework.security.web.header.HeaderWriterFilter@5047fc77, org.springframework.security.web.authentication.logout.LogoutFilter@1e1908ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2739f91b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48720dcf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@99a8a49, org.springframework.security.web.session.SessionManagementFilter@b8d8fb7, org.springframework.security.web.access.ExceptionTranslationFilter@1b2092fe, org.springframework.security.web.access.intercept.AuthorizationFilter@2e44bc38]
2023-01-28T00:59:11.880-03:00  INFO 11608 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 52279 (http) with context path ''
2023-01-28T00:59:11.885-03:00  INFO 11608 --- [main] c.example.ec.web.RatingControllerTest    : Started RatingControllerTest in 1.697 seconds (process running for 8.435)
2023-01-28T00:59:12.011-03:00  INFO 11608 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T00:59:12.011-03:00  INFO 11608 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T00:59:12.012-03:00  INFO 11608 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-01-28T00:59:12.042-03:00  INFO 11608 --- [http-nio-auto-1-exec-1] com.example.ec.web.RatingController      : GET /ratings/{id}
2023-01-28T00:59:12.109-03:00  INFO 11608 --- [http-nio-auto-1-exec-2] com.example.ec.web.RatingController      : GET /ratings
2023-01-28T00:59:12.122-03:00  INFO 11608 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.TourRatingControllerTest]: TourRatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:59:12.124-03:00  INFO 11608 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.TourRatingControllerTest
2023-01-28T00:59:12.137-03:00  INFO 11608 --- [http-nio-auto-1-exec-3] c.example.ec.web.TourRatingController    : DELETE /tours/999/ratings/1000
2023-01-28T00:59:12.161-03:00  INFO 11608 --- [http-nio-auto-1-exec-4] c.example.ec.web.TourRatingController    : GET /tours/999/ratings
2023-01-28T00:59:12.231-03:00  INFO 11608 --- [http-nio-auto-1-exec-5] c.example.ec.web.TourRatingController    : PUT /tours/999/ratings
2023-01-28T00:59:12.242-03:00  INFO 11608 --- [http-nio-auto-1-exec-6] c.example.ec.web.TourRatingController    : POST /tours/999/ratings
2023-01-28T00:59:12.250-03:00  INFO 11608 --- [http-nio-auto-1-exec-7] c.example.ec.web.TourRatingController    : GET /tours/999/ratings/average
2023-01-28T00:59:12.261-03:00  INFO 11608 --- [http-nio-auto-1-exec-8] c.example.ec.web.TourRatingController    : POST /tours/999/ratings/3
2023-01-28T00:59:12.274-03:00  INFO 11608 --- [http-nio-auto-1-exec-9] c.example.ec.web.TourRatingController    : PATCH /tours/999/ratings
2023-01-28T00:59:12.279-03:00  INFO 11608 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T00:59:12.280-03:00  INFO 11608 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.UserControllerTest
2023-01-28T00:59:12.294-03:00  INFO 11608 --- [main] com.example.ec.web.UserControllerTest    : Starting UserControllerTest using Java 18.0.2.1 with PID 11608 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T00:59:12.294-03:00 DEBUG 11608 --- [main] com.example.ec.web.UserControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T00:59:12.294-03:00  INFO 11608 --- [main] com.example.ec.web.UserControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T00:59:12.411-03:00  INFO 11608 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T00:59:12.420-03:00  INFO 11608 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 5 JPA repository interfaces.
2023-01-28T00:59:12.480-03:00  INFO 11608 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T00:59:12.481-03:00  INFO 11608 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T00:59:12.481-03:00  INFO 11608 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T00:59:12.508-03:00  INFO 11608 --- [main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-01-28T00:59:12.508-03:00  INFO 11608 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 213 ms
2023-01-28T00:59:12.546-03:00  INFO 11608 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2023-01-28T00:59:12.569-03:00  INFO 11608 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:6ede08bd-4648-42f0-8c05-0fdc7871fa2b user=SA
2023-01-28T00:59:12.569-03:00  INFO 11608 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2023-01-28T00:59:12.595-03:00  INFO 11608 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T00:59:12.597-03:00  WARN 11608 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T00:59:12.600-03:00  INFO 11608 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T00:59:12.643-03:00  INFO 11608 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T00:59:12.643-03:00  INFO 11608 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:59:12.767-03:00  WARN 11608 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T00:59:13.574-03:00  INFO 11608 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45c95343, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70900474, org.springframework.security.web.context.SecurityContextHolderFilter@3217aada, org.springframework.security.web.header.HeaderWriterFilter@35fe64ca, org.springframework.security.web.authentication.logout.LogoutFilter@3f314bad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34f14035, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72efba55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b303504, org.springframework.security.web.session.SessionManagementFilter@74d6d08a, org.springframework.security.web.access.ExceptionTranslationFilter@2a4594b1, org.springframework.security.web.access.intercept.AuthorizationFilter@ecd7bee]
2023-01-28T00:59:13.695-03:00  INFO 11608 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 52285 (http) with context path ''
2023-01-28T00:59:13.699-03:00  INFO 11608 --- [main] com.example.ec.web.UserControllerTest    : Started UserControllerTest in 1.416 seconds (process running for 10.249)
2023-01-28T00:59:13.750-03:00  INFO 11608 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:59:13.751-03:00  INFO 11608 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T00:59:13.794-03:00  INFO 11608 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T00:59:13.808-03:00  INFO 11608 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:59:13.808-03:00  INFO 11608 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-01-28T00:59:13.842-03:00  INFO 11608 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2023-01-28T00:59:13.851-03:00  INFO 11608 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:59:13.852-03:00  INFO 11608 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2023-01-28T00:59:13.883-03:00  INFO 11608 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2023-01-28T00:59:25.888-03:00  INFO 12872 --- [main] c.e.e.s.UserServiceIntegrationTest       : Starting UserServiceIntegrationTest using Java 18.0.2.1 with PID 12872 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T00:59:25.889-03:00 DEBUG 12872 --- [main] c.e.e.s.UserServiceIntegrationTest       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T00:59:25.890-03:00  INFO 12872 --- [main] c.e.e.s.UserServiceIntegrationTest       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T00:59:25.925-03:00  INFO 24452 --- [main] c.e.e.s.UserServiceIntegrationTest       : Starting UserServiceIntegrationTest using Java 18.0.2.1 with PID 24452 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T00:59:25.925-03:00 DEBUG 24452 --- [main] c.e.e.s.UserServiceIntegrationTest       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T00:59:25.927-03:00  INFO 24452 --- [main] c.e.e.s.UserServiceIntegrationTest       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T00:59:26.800-03:00  INFO 12872 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T00:59:26.842-03:00  INFO 24452 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T00:59:26.874-03:00  INFO 12872 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 66 ms. Found 5 JPA repository interfaces.
2023-01-28T00:59:26.914-03:00  INFO 24452 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 5 JPA repository interfaces.
2023-01-28T00:59:27.543-03:00  INFO 12872 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T00:59:27.586-03:00  INFO 24452 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T00:59:27.782-03:00  INFO 12872 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:efe6aed4-e66d-4e05-be4e-5d789cd2df93 user=SA
2023-01-28T00:59:27.784-03:00  INFO 12872 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T00:59:27.793-03:00  INFO 24452 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:dad7f3dd-1080-4f7d-9536-fbbe3760393a user=SA
2023-01-28T00:59:27.795-03:00  INFO 24452 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T00:59:27.978-03:00  INFO 12872 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T00:59:28.001-03:00  INFO 24452 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T00:59:28.045-03:00  INFO 12872 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T00:59:28.062-03:00  INFO 24452 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T00:59:28.214-03:00  WARN 12872 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T00:59:28.234-03:00  WARN 24452 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T00:59:28.327-03:00  INFO 12872 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T00:59:28.361-03:00  INFO 24452 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T00:59:29.133-03:00  INFO 12872 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T00:59:29.141-03:00  INFO 12872 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:59:29.202-03:00  INFO 24452 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T00:59:29.211-03:00  INFO 24452 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:59:30.182-03:00  WARN 12872 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T00:59:30.312-03:00  WARN 24452 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T00:59:31.890-03:00  INFO 12872 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@496e2bdd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17e725fb, org.springframework.security.web.context.SecurityContextHolderFilter@4e58eda2, org.springframework.security.web.header.HeaderWriterFilter@f36c8b1, org.springframework.security.web.authentication.logout.LogoutFilter@a6924ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7acbd3d0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49d5c751, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76379796, org.springframework.security.web.session.SessionManagementFilter@36f1bd7e, org.springframework.security.web.access.ExceptionTranslationFilter@11f752d1, org.springframework.security.web.access.intercept.AuthorizationFilter@7695184b]
2023-01-28T00:59:31.909-03:00  INFO 24452 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3d9c69f8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1235732d, org.springframework.security.web.context.SecurityContextHolderFilter@251db193, org.springframework.security.web.header.HeaderWriterFilter@735dc133, org.springframework.security.web.authentication.logout.LogoutFilter@6a0a0f12, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d20cbb5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74eae1e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@369d624d, org.springframework.security.web.session.SessionManagementFilter@480fb706, org.springframework.security.web.access.ExceptionTranslationFilter@e09c7a2, org.springframework.security.web.access.intercept.AuthorizationFilter@409df37d]
2023-01-28T00:59:32.648-03:00  INFO 24452 --- [main] c.e.e.s.UserServiceIntegrationTest       : Started UserServiceIntegrationTest in 6.918 seconds (process running for 8.001)
2023-01-28T00:59:32.661-03:00  INFO 12872 --- [main] c.e.e.s.UserServiceIntegrationTest       : Started UserServiceIntegrationTest in 6.96 seconds (process running for 8.034)
2023-01-28T00:59:32.978-03:00  INFO 24452 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T00:59:32.994-03:00  INFO 12872 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T00:59:33.246-03:00  WARN 24452 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90036, SQLState: 90036
2023-01-28T00:59:33.247-03:00 ERROR 24452 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Sequence "SECURITY_USER_SEQ" not found; SQL statement:
select next value for security_user_seq [90036-214]
2023-01-28T00:59:33.265-03:00  WARN 12872 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90036, SQLState: 90036
2023-01-28T00:59:33.265-03:00 ERROR 12872 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Sequence "SECURITY_USER_SEQ" not found; SQL statement:
select next value for security_user_seq [90036-214]
2023-01-28T00:59:33.285-03:00  INFO 24452 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:59:33.287-03:00  INFO 24452 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T00:59:33.290-03:00  INFO 24452 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T00:59:33.312-03:00  INFO 12872 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T00:59:33.315-03:00  INFO 12872 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T00:59:33.318-03:00  INFO 12872 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T01:00:31.762-03:00  INFO 26232 --- [main] c.e.e.s.UserServiceIntegrationTest       : Starting UserServiceIntegrationTest using Java 18.0.2.1 with PID 26232 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:00:31.762-03:00 DEBUG 26232 --- [main] c.e.e.s.UserServiceIntegrationTest       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:00:31.763-03:00  INFO 26232 --- [main] c.e.e.s.UserServiceIntegrationTest       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:00:32.466-03:00  INFO 26232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:00:32.523-03:00  INFO 26232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 5 JPA repository interfaces.
2023-01-28T01:00:33.004-03:00  INFO 26232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T01:00:33.173-03:00  INFO 26232 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:87a1cb81-71c6-4103-96dc-e3367fcf93f5 user=SA
2023-01-28T01:00:33.175-03:00  INFO 26232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T01:00:33.331-03:00  INFO 26232 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:00:33.378-03:00  INFO 26232 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T01:00:33.518-03:00  WARN 26232 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:00:33.633-03:00  INFO 26232 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:00:34.349-03:00  INFO 26232 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:00:34.357-03:00  INFO 26232 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:00:35.120-03:00  WARN 26232 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:00:35.980-03:00  INFO 26232 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@506d7fed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bdb6b36, org.springframework.security.web.context.SecurityContextHolderFilter@3ba6707e, org.springframework.security.web.header.HeaderWriterFilter@20ee660b, org.springframework.security.web.authentication.logout.LogoutFilter@36dbfa68, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c5ae26d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5578ed7e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@381d7c4c, org.springframework.security.web.session.SessionManagementFilter@154cbb46, org.springframework.security.web.access.ExceptionTranslationFilter@289b7efe, org.springframework.security.web.access.intercept.AuthorizationFilter@4d20cbb5]
2023-01-28T01:00:36.436-03:00  INFO 26232 --- [main] c.e.e.s.UserServiceIntegrationTest       : Started UserServiceIntegrationTest in 4.849 seconds (process running for 5.79)
2023-01-28T01:00:36.667-03:00  INFO 26232 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T01:00:36.933-03:00  WARN 26232 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90036, SQLState: 90036
2023-01-28T01:00:36.933-03:00 ERROR 26232 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Sequence "SECURITY_USER_SEQ" not found; SQL statement:
select next value for security_user_seq [90036-214]
2023-01-28T01:00:36.960-03:00  INFO 26232 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:00:36.962-03:00  INFO 26232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T01:00:36.965-03:00  INFO 26232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T01:01:00.559-03:00  INFO 5296 --- [main] c.e.ec.ExplorecaliApplicationTests       : Starting ExplorecaliApplicationTests using Java 18.0.2.1 with PID 5296 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:01:00.559-03:00 DEBUG 5296 --- [main] c.e.ec.ExplorecaliApplicationTests       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:01:00.560-03:00  INFO 5296 --- [main] c.e.ec.ExplorecaliApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:01:01.234-03:00  INFO 5296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:01:01.294-03:00  INFO 5296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2023-01-28T01:01:01.802-03:00  INFO 5296 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T01:01:01.969-03:00  INFO 5296 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:02ce07d3-c086-4a0f-a9cc-0f6c32abdd1f user=SA
2023-01-28T01:01:01.971-03:00  INFO 5296 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T01:01:02.116-03:00  INFO 5296 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:01:02.159-03:00  INFO 5296 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T01:01:02.204-03:00  WARN 5296 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:01:02.312-03:00  INFO 5296 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:01:02.908-03:00  INFO 5296 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:01:02.914-03:00  INFO 5296 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:01:03.558-03:00  WARN 5296 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:01:04.660-03:00  INFO 5296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@420c9959, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e584f3c, org.springframework.security.web.context.SecurityContextHolderFilter@7a6078d, org.springframework.security.web.header.HeaderWriterFilter@29b61bb, org.springframework.security.web.authentication.logout.LogoutFilter@18f8c76d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4458887d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b1bb01c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f113867, org.springframework.security.web.session.SessionManagementFilter@504a9352, org.springframework.security.web.access.ExceptionTranslationFilter@735d7b99, org.springframework.security.web.access.intercept.AuthorizationFilter@7d583602]
2023-01-28T01:01:05.179-03:00  INFO 5296 --- [main] c.e.ec.ExplorecaliApplicationTests       : Started ExplorecaliApplicationTests in 4.843 seconds (process running for 6.241)
2023-01-28T01:01:05.205-03:00  INFO 5296 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.repo.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:01:05.211-03:00  INFO 5296 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.repo.UserRepositoryTest
2023-01-28T01:01:05.397-03:00  INFO 5296 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.TourRatingServiceIntegrationTest]: TourRatingServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:01:05.405-03:00  INFO 5296 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.TourRatingServiceIntegrationTest
2023-01-28T01:01:05.420-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:01:05.457-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:01:05.462-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 4
2023-01-28T01:01:05.473-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:01:05.489-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:01:05.501-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:01:05.509-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:01:05.513-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:01:05.518-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:01:05.522-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [100, 101, 102]
2023-01-28T01:01:05.523-03:00 DEBUG 5296 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 100
2023-01-28T01:01:05.524-03:00 DEBUG 5296 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 101
2023-01-28T01:01:05.524-03:00 DEBUG 5296 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 102
2023-01-28T01:01:05.525-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:01:05.531-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:01:05.680-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:01:05.684-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 123
2023-01-28T01:01:05.691-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 123
2023-01-28T01:01:05.694-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Update some of Rating for tour 1 of customers 123
2023-01-28T01:01:05.696-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [123, 124]
2023-01-28T01:01:05.697-03:00 DEBUG 5296 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 123
2023-01-28T01:01:05.697-03:00 DEBUG 5296 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 124
2023-01-28T01:01:05.700-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 123
2023-01-28T01:01:05.702-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:01:05.749-03:00  INFO 5296 --- [main] c.example.ec.service.TourRatingService   : Lookup Rating for tour 1
2023-01-28T01:01:05.751-03:00  INFO 5296 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.UserServiceIntegrationTest]: UserServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:01:05.753-03:00  INFO 5296 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.UserServiceIntegrationTest
2023-01-28T01:01:05.761-03:00  INFO 5296 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T01:01:06.022-03:00  WARN 5296 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90036, SQLState: 90036
2023-01-28T01:01:06.023-03:00 ERROR 5296 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Sequence "SECURITY_USER_SEQ" not found; SQL statement:
select next value for security_user_seq [90036-214]
2023-01-28T01:01:06.160-03:00  INFO 5296 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.RatingControllerTest]: RatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:01:06.168-03:00  INFO 5296 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.RatingControllerTest
2023-01-28T01:01:06.191-03:00  INFO 5296 --- [main] c.example.ec.web.RatingControllerTest    : Starting RatingControllerTest using Java 18.0.2.1 with PID 5296 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:01:06.191-03:00 DEBUG 5296 --- [main] c.example.ec.web.RatingControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:01:06.191-03:00  INFO 5296 --- [main] c.example.ec.web.RatingControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:01:06.347-03:00  INFO 5296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:01:06.357-03:00  INFO 5296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 5 JPA repository interfaces.
2023-01-28T01:01:06.533-03:00  INFO 5296 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:01:06.541-03:00  INFO 5296 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:01:06.541-03:00  INFO 5296 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:01:06.617-03:00  INFO 5296 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T01:01:06.618-03:00  INFO 5296 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 425 ms
2023-01-28T01:01:06.702-03:00  INFO 5296 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-01-28T01:01:06.707-03:00  INFO 5296 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:1a71ec9c-6296-426d-b244-ba499dc38538 user=SA
2023-01-28T01:01:06.708-03:00  INFO 5296 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-01-28T01:01:06.756-03:00  INFO 5296 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:01:06.759-03:00  WARN 5296 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:01:06.762-03:00  INFO 5296 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:01:06.824-03:00  INFO 5296 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:01:06.825-03:00  INFO 5296 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:01:06.955-03:00  WARN 5296 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:01:07.714-03:00  INFO 5296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b8d8fb7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38913b95, org.springframework.security.web.context.SecurityContextHolderFilter@84398a, org.springframework.security.web.header.HeaderWriterFilter@1b0964cf, org.springframework.security.web.authentication.logout.LogoutFilter@793942d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@365a9434, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66a5a12c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2739f91b, org.springframework.security.web.session.SessionManagementFilter@573d3ec6, org.springframework.security.web.access.ExceptionTranslationFilter@e071deb, org.springframework.security.web.access.intercept.AuthorizationFilter@5047fc77]
2023-01-28T01:01:08.065-03:00  INFO 5296 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 52375 (http) with context path ''
2023-01-28T01:01:08.068-03:00  INFO 5296 --- [main] c.example.ec.web.RatingControllerTest    : Started RatingControllerTest in 1.896 seconds (process running for 9.13)
2023-01-28T01:01:08.205-03:00  INFO 5296 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T01:01:08.205-03:00  INFO 5296 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T01:01:08.206-03:00  INFO 5296 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-01-28T01:01:08.234-03:00  INFO 5296 --- [http-nio-auto-1-exec-1] com.example.ec.web.RatingController      : GET /ratings/{id}
2023-01-28T01:01:08.299-03:00  INFO 5296 --- [http-nio-auto-1-exec-2] com.example.ec.web.RatingController      : GET /ratings
2023-01-28T01:01:08.308-03:00  INFO 5296 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.TourRatingControllerTest]: TourRatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:01:08.309-03:00  INFO 5296 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.TourRatingControllerTest
2023-01-28T01:01:08.317-03:00  INFO 5296 --- [http-nio-auto-1-exec-3] c.example.ec.web.TourRatingController    : DELETE /tours/999/ratings/1000
2023-01-28T01:01:08.332-03:00  INFO 5296 --- [http-nio-auto-1-exec-4] c.example.ec.web.TourRatingController    : GET /tours/999/ratings
2023-01-28T01:01:08.391-03:00  INFO 5296 --- [http-nio-auto-1-exec-5] c.example.ec.web.TourRatingController    : PUT /tours/999/ratings
2023-01-28T01:01:08.403-03:00  INFO 5296 --- [http-nio-auto-1-exec-6] c.example.ec.web.TourRatingController    : POST /tours/999/ratings
2023-01-28T01:01:08.411-03:00  INFO 5296 --- [http-nio-auto-1-exec-7] c.example.ec.web.TourRatingController    : GET /tours/999/ratings/average
2023-01-28T01:01:08.423-03:00  INFO 5296 --- [http-nio-auto-1-exec-8] c.example.ec.web.TourRatingController    : POST /tours/999/ratings/3
2023-01-28T01:01:08.436-03:00  INFO 5296 --- [http-nio-auto-1-exec-9] c.example.ec.web.TourRatingController    : PATCH /tours/999/ratings
2023-01-28T01:01:08.442-03:00  INFO 5296 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:01:08.443-03:00  INFO 5296 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.UserControllerTest
2023-01-28T01:01:08.457-03:00  INFO 5296 --- [main] com.example.ec.web.UserControllerTest    : Starting UserControllerTest using Java 18.0.2.1 with PID 5296 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:01:08.457-03:00 DEBUG 5296 --- [main] com.example.ec.web.UserControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:01:08.457-03:00  INFO 5296 --- [main] com.example.ec.web.UserControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:01:08.606-03:00  INFO 5296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:01:08.615-03:00  INFO 5296 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 5 JPA repository interfaces.
2023-01-28T01:01:08.676-03:00  INFO 5296 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:01:08.676-03:00  INFO 5296 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:01:08.677-03:00  INFO 5296 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:01:08.699-03:00  INFO 5296 --- [main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-01-28T01:01:08.699-03:00  INFO 5296 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 241 ms
2023-01-28T01:01:08.739-03:00  INFO 5296 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2023-01-28T01:01:08.750-03:00  INFO 5296 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:b47565b8-27d4-49c5-bbf8-e5ad0997e3b8 user=SA
2023-01-28T01:01:08.751-03:00  INFO 5296 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2023-01-28T01:01:08.775-03:00  INFO 5296 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:01:08.777-03:00  WARN 5296 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:01:08.780-03:00  INFO 5296 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:01:08.825-03:00  INFO 5296 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:01:08.825-03:00  INFO 5296 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:01:08.962-03:00  WARN 5296 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:01:10.021-03:00  INFO 5296 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a4594b1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35fe64ca, org.springframework.security.web.context.SecurityContextHolderFilter@1c215c31, org.springframework.security.web.header.HeaderWriterFilter@7da837af, org.springframework.security.web.authentication.logout.LogoutFilter@65af4162, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7dabc2f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@418287ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@74d6d08a, org.springframework.security.web.session.SessionManagementFilter@e655f9, org.springframework.security.web.access.ExceptionTranslationFilter@305a362a, org.springframework.security.web.access.intercept.AuthorizationFilter@13dabbb9]
2023-01-28T01:01:10.147-03:00  INFO 5296 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 52380 (http) with context path ''
2023-01-28T01:01:10.151-03:00  INFO 5296 --- [main] com.example.ec.web.UserControllerTest    : Started UserControllerTest in 1.705 seconds (process running for 11.212)
2023-01-28T01:01:10.208-03:00  INFO 5296 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:01:10.209-03:00  INFO 5296 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T01:01:10.247-03:00  INFO 5296 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T01:01:10.261-03:00  INFO 5296 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:01:10.261-03:00  INFO 5296 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-01-28T01:01:10.304-03:00  INFO 5296 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2023-01-28T01:01:10.313-03:00  INFO 5296 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:01:10.313-03:00  INFO 5296 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2023-01-28T01:01:10.344-03:00  INFO 5296 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2023-01-28T01:11:36.826-03:00  INFO 26460 --- [main] c.e.ec.ExplorecaliApplicationTests       : Starting ExplorecaliApplicationTests using Java 18.0.2.1 with PID 26460 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:11:36.827-03:00 DEBUG 26460 --- [main] c.e.ec.ExplorecaliApplicationTests       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:11:36.828-03:00  INFO 26460 --- [main] c.e.ec.ExplorecaliApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:11:37.507-03:00  INFO 26460 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:11:37.568-03:00  INFO 26460 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 5 JPA repository interfaces.
2023-01-28T01:11:38.044-03:00  INFO 26460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T01:11:38.195-03:00  INFO 26460 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:e4cd7856-2297-43c1-94cb-9a87daf7f902 user=SA
2023-01-28T01:11:38.196-03:00  INFO 26460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T01:11:38.335-03:00  INFO 26460 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:11:38.385-03:00  INFO 26460 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T01:11:38.418-03:00  WARN 26460 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:11:38.529-03:00  INFO 26460 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:11:39.101-03:00  INFO 26460 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:11:39.108-03:00  INFO 26460 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:11:39.723-03:00  WARN 26460 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:11:40.657-03:00  INFO 26460 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3eb6d7a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@345f4e0d, org.springframework.security.web.context.SecurityContextHolderFilter@59ebe484, org.springframework.security.web.header.HeaderWriterFilter@60a4595e, org.springframework.security.web.authentication.logout.LogoutFilter@50cadbae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1cafb30, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cc28282, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c3eeda4, org.springframework.security.web.session.SessionManagementFilter@7b1bb01c, org.springframework.security.web.access.ExceptionTranslationFilter@6a90b5e8, org.springframework.security.web.access.intercept.AuthorizationFilter@72cf159f]
2023-01-28T01:11:41.079-03:00  INFO 26460 --- [main] c.e.ec.ExplorecaliApplicationTests       : Started ExplorecaliApplicationTests in 4.477 seconds (process running for 5.791)
2023-01-28T01:11:41.109-03:00  INFO 26460 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.repo.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:11:41.115-03:00  INFO 26460 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.repo.UserRepositoryTest
2023-01-28T01:11:41.249-03:00  INFO 26460 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.TourRatingServiceIntegrationTest]: TourRatingServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:11:41.254-03:00  INFO 26460 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.TourRatingServiceIntegrationTest
2023-01-28T01:11:41.264-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:11:41.297-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:11:41.303-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 4
2023-01-28T01:11:41.313-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:11:41.328-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:11:41.339-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:11:41.348-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:11:41.352-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:11:41.359-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:11:41.363-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [100, 101, 102]
2023-01-28T01:11:41.364-03:00 DEBUG 26460 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 100
2023-01-28T01:11:41.365-03:00 DEBUG 26460 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 101
2023-01-28T01:11:41.366-03:00 DEBUG 26460 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 102
2023-01-28T01:11:41.367-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:11:41.373-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:11:41.549-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:11:41.554-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 123
2023-01-28T01:11:41.561-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 123
2023-01-28T01:11:41.564-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Update some of Rating for tour 1 of customers 123
2023-01-28T01:11:41.566-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [123, 124]
2023-01-28T01:11:41.567-03:00 DEBUG 26460 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 123
2023-01-28T01:11:41.567-03:00 DEBUG 26460 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 124
2023-01-28T01:11:41.569-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 123
2023-01-28T01:11:41.571-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:11:41.613-03:00  INFO 26460 --- [main] c.example.ec.service.TourRatingService   : Lookup Rating for tour 1
2023-01-28T01:11:41.615-03:00  INFO 26460 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.UserServiceIntegrationTest]: UserServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:11:41.616-03:00  INFO 26460 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.UserServiceIntegrationTest
2023-01-28T01:11:41.622-03:00  INFO 26460 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T01:11:41.885-03:00  WARN 26460 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2023-01-28T01:11:41.885-03:00 ERROR 26460 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.SECURITY_USER(ID) ( /* key:1 */ CAST(1 AS BIGINT), 'admin', '$2a$12$ZhGS.zcWt1gnZ9xRNp7inOvo5hIT0ngN7N.pN939cShxKvaQYHnnu', 'Administrator', 'Adminstrator')"; SQL statement:
insert into security_user (id, first_name, last_name, password, username) values (default, ?, ?, ?, ?) [23505-214]
2023-01-28T01:11:42.031-03:00  INFO 26460 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.RatingControllerTest]: RatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:11:42.039-03:00  INFO 26460 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.RatingControllerTest
2023-01-28T01:11:42.059-03:00  INFO 26460 --- [main] c.example.ec.web.RatingControllerTest    : Starting RatingControllerTest using Java 18.0.2.1 with PID 26460 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:11:42.060-03:00 DEBUG 26460 --- [main] c.example.ec.web.RatingControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:11:42.060-03:00  INFO 26460 --- [main] c.example.ec.web.RatingControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:11:42.268-03:00  INFO 26460 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:11:42.282-03:00  INFO 26460 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2023-01-28T01:11:42.477-03:00  INFO 26460 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:11:42.485-03:00  INFO 26460 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:11:42.486-03:00  INFO 26460 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:11:42.553-03:00  INFO 26460 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T01:11:42.553-03:00  INFO 26460 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 492 ms
2023-01-28T01:11:42.640-03:00  INFO 26460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-01-28T01:11:42.646-03:00  INFO 26460 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:f7663a7c-6a64-4fb5-bb13-90e824bc5a59 user=SA
2023-01-28T01:11:42.646-03:00  INFO 26460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-01-28T01:11:42.680-03:00  INFO 26460 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:11:42.682-03:00  WARN 26460 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:11:42.685-03:00  INFO 26460 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:11:42.738-03:00  INFO 26460 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:11:42.739-03:00  INFO 26460 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:11:42.871-03:00  WARN 26460 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:11:44.395-03:00  INFO 26460 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7680cb52, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e44bc38, org.springframework.security.web.context.SecurityContextHolderFilter@5047fc77, org.springframework.security.web.header.HeaderWriterFilter@793942d9, org.springframework.security.web.authentication.logout.LogoutFilter@48720dcf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b8d8fb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38913b95, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fba0d7a, org.springframework.security.web.session.SessionManagementFilter@1b2092fe, org.springframework.security.web.access.ExceptionTranslationFilter@58507830, org.springframework.security.web.access.intercept.AuthorizationFilter@1e1908ab]
2023-01-28T01:11:45.094-03:00  INFO 26460 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 52730 (http) with context path ''
2023-01-28T01:11:45.099-03:00  INFO 26460 --- [main] c.example.ec.web.RatingControllerTest    : Started RatingControllerTest in 3.057 seconds (process running for 9.812)
2023-01-28T01:11:45.243-03:00  INFO 26460 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T01:11:45.243-03:00  INFO 26460 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T01:11:45.245-03:00  INFO 26460 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-01-28T01:11:45.274-03:00  INFO 26460 --- [http-nio-auto-1-exec-1] com.example.ec.web.RatingController      : GET /ratings/{id}
2023-01-28T01:11:45.339-03:00  INFO 26460 --- [http-nio-auto-1-exec-2] com.example.ec.web.RatingController      : GET /ratings
2023-01-28T01:11:45.347-03:00  INFO 26460 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.TourRatingControllerTest]: TourRatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:11:45.348-03:00  INFO 26460 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.TourRatingControllerTest
2023-01-28T01:11:45.357-03:00  INFO 26460 --- [http-nio-auto-1-exec-3] c.example.ec.web.TourRatingController    : DELETE /tours/999/ratings/1000
2023-01-28T01:11:45.372-03:00  INFO 26460 --- [http-nio-auto-1-exec-4] c.example.ec.web.TourRatingController    : GET /tours/999/ratings
2023-01-28T01:11:45.438-03:00  INFO 26460 --- [http-nio-auto-1-exec-5] c.example.ec.web.TourRatingController    : PUT /tours/999/ratings
2023-01-28T01:11:45.452-03:00  INFO 26460 --- [http-nio-auto-1-exec-6] c.example.ec.web.TourRatingController    : POST /tours/999/ratings
2023-01-28T01:11:45.461-03:00  INFO 26460 --- [http-nio-auto-1-exec-7] c.example.ec.web.TourRatingController    : GET /tours/999/ratings/average
2023-01-28T01:11:45.473-03:00  INFO 26460 --- [http-nio-auto-1-exec-8] c.example.ec.web.TourRatingController    : POST /tours/999/ratings/3
2023-01-28T01:11:45.488-03:00  INFO 26460 --- [http-nio-auto-1-exec-9] c.example.ec.web.TourRatingController    : PATCH /tours/999/ratings
2023-01-28T01:11:45.494-03:00  INFO 26460 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:11:45.495-03:00  INFO 26460 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.UserControllerTest
2023-01-28T01:11:45.512-03:00  INFO 26460 --- [main] com.example.ec.web.UserControllerTest    : Starting UserControllerTest using Java 18.0.2.1 with PID 26460 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:11:45.512-03:00 DEBUG 26460 --- [main] com.example.ec.web.UserControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:11:45.513-03:00  INFO 26460 --- [main] com.example.ec.web.UserControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:11:45.676-03:00  INFO 26460 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:11:45.685-03:00  INFO 26460 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 5 JPA repository interfaces.
2023-01-28T01:11:45.748-03:00  INFO 26460 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:11:45.748-03:00  INFO 26460 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:11:45.749-03:00  INFO 26460 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:11:45.771-03:00  INFO 26460 --- [main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-01-28T01:11:45.772-03:00  INFO 26460 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 258 ms
2023-01-28T01:11:45.853-03:00  INFO 26460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2023-01-28T01:11:45.880-03:00  INFO 26460 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:fefd111c-c71c-455f-8631-e674886b912d user=SA
2023-01-28T01:11:45.880-03:00  INFO 26460 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2023-01-28T01:11:45.905-03:00  INFO 26460 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:11:45.907-03:00  WARN 26460 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:11:45.909-03:00  INFO 26460 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:11:45.962-03:00  INFO 26460 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:11:45.963-03:00  INFO 26460 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:11:46.067-03:00  WARN 26460 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:11:47.305-03:00  INFO 26460 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@72efba55, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@307f6602, org.springframework.security.web.context.SecurityContextHolderFilter@46b0fb24, org.springframework.security.web.header.HeaderWriterFilter@73f94bf8, org.springframework.security.web.authentication.logout.LogoutFilter@74d6d08a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13dabbb9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a4594b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f314bad, org.springframework.security.web.session.SessionManagementFilter@65af4162, org.springframework.security.web.access.ExceptionTranslationFilter@418287ac, org.springframework.security.web.access.intercept.AuthorizationFilter@34f14035]
2023-01-28T01:11:47.523-03:00  INFO 26460 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 52737 (http) with context path ''
2023-01-28T01:11:47.527-03:00  INFO 26460 --- [main] com.example.ec.web.UserControllerTest    : Started UserControllerTest in 2.03 seconds (process running for 12.24)
2023-01-28T01:11:47.655-03:00  INFO 26460 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:11:47.657-03:00  INFO 26460 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T01:11:47.807-03:00  INFO 26460 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T01:11:47.822-03:00  INFO 26460 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:11:47.822-03:00  INFO 26460 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-01-28T01:11:47.920-03:00  INFO 26460 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2023-01-28T01:11:47.945-03:00  INFO 26460 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:11:47.946-03:00  INFO 26460 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2023-01-28T01:11:48.043-03:00  INFO 26460 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2023-01-28T01:18:13.476-03:00  INFO 11120 --- [main] c.e.ec.ExplorecaliApplicationTests       : Starting ExplorecaliApplicationTests using Java 18.0.2.1 with PID 11120 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:18:13.477-03:00 DEBUG 11120 --- [main] c.e.ec.ExplorecaliApplicationTests       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:18:13.478-03:00  INFO 11120 --- [main] c.e.ec.ExplorecaliApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:18:14.212-03:00  INFO 11120 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:18:14.275-03:00  INFO 11120 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 5 JPA repository interfaces.
2023-01-28T01:18:14.891-03:00  INFO 11120 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T01:18:15.095-03:00  INFO 11120 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:98903f0f-7542-4a48-9ee4-7a6d28872b9e user=SA
2023-01-28T01:18:15.097-03:00  INFO 11120 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T01:18:15.291-03:00  INFO 11120 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:18:15.339-03:00  INFO 11120 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T01:18:15.384-03:00  WARN 11120 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:18:15.542-03:00  INFO 11120 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:18:16.214-03:00  INFO 11120 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:18:16.222-03:00  INFO 11120 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:18:16.965-03:00  WARN 11120 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:18:17.845-03:00  INFO 11120 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64b242b3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cb1da13, org.springframework.security.web.context.SecurityContextHolderFilter@5cc28282, org.springframework.security.web.header.HeaderWriterFilter@64ef9b9a, org.springframework.security.web.authentication.logout.LogoutFilter@441d3ddf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14b4f462, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42718ebf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2250deae, org.springframework.security.web.session.SessionManagementFilter@59ebe484, org.springframework.security.web.access.ExceptionTranslationFilter@6d4bb60f, org.springframework.security.web.access.intercept.AuthorizationFilter@3eb6d7a9]
2023-01-28T01:18:18.339-03:00  INFO 11120 --- [main] c.e.ec.ExplorecaliApplicationTests       : Started ExplorecaliApplicationTests in 5.074 seconds (process running for 6.416)
2023-01-28T01:18:18.363-03:00  INFO 11120 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.repo.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:18:18.369-03:00  INFO 11120 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.repo.UserRepositoryTest
2023-01-28T01:18:18.496-03:00  INFO 11120 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.TourRatingServiceIntegrationTest]: TourRatingServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:18:18.500-03:00  INFO 11120 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.TourRatingServiceIntegrationTest
2023-01-28T01:18:18.510-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:18:18.543-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:18:18.548-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 4
2023-01-28T01:18:18.556-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:18:18.569-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:18:18.579-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:18:18.586-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:18:18.589-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:18:18.594-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:18:18.597-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [100, 101, 102]
2023-01-28T01:18:18.598-03:00 DEBUG 11120 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 100
2023-01-28T01:18:18.599-03:00 DEBUG 11120 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 101
2023-01-28T01:18:18.599-03:00 DEBUG 11120 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 102
2023-01-28T01:18:18.600-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:18:18.605-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:18:18.754-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:18:18.759-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 123
2023-01-28T01:18:18.765-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 123
2023-01-28T01:18:18.767-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Update some of Rating for tour 1 of customers 123
2023-01-28T01:18:18.770-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [123, 124]
2023-01-28T01:18:18.770-03:00 DEBUG 11120 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 123
2023-01-28T01:18:18.770-03:00 DEBUG 11120 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 124
2023-01-28T01:18:18.773-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 123
2023-01-28T01:18:18.775-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:18:18.816-03:00  INFO 11120 --- [main] c.example.ec.service.TourRatingService   : Lookup Rating for tour 1
2023-01-28T01:18:18.818-03:00  INFO 11120 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.UserServiceIntegrationTest]: UserServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:18:18.819-03:00  INFO 11120 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.UserServiceIntegrationTest
2023-01-28T01:18:18.825-03:00  INFO 11120 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T01:18:19.083-03:00  WARN 11120 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2023-01-28T01:18:19.084-03:00 ERROR 11120 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.SECURITY_USER(ID) ( /* key:1 */ CAST(1 AS BIGINT), 'admin', '$2a$12$ZhGS.zcWt1gnZ9xRNp7inOvo5hIT0ngN7N.pN939cShxKvaQYHnnu', 'Administrator', 'Adminstrator')"; SQL statement:
insert into security_user (id, first_name, last_name, password, username) values (default, ?, ?, ?, ?) [23505-214]
2023-01-28T01:18:19.219-03:00  INFO 11120 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.RatingControllerTest]: RatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:18:19.228-03:00  INFO 11120 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.RatingControllerTest
2023-01-28T01:18:19.249-03:00  INFO 11120 --- [main] c.example.ec.web.RatingControllerTest    : Starting RatingControllerTest using Java 18.0.2.1 with PID 11120 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:18:19.250-03:00 DEBUG 11120 --- [main] c.example.ec.web.RatingControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:18:19.250-03:00  INFO 11120 --- [main] c.example.ec.web.RatingControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:18:19.426-03:00  INFO 11120 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:18:19.436-03:00  INFO 11120 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 5 JPA repository interfaces.
2023-01-28T01:18:19.620-03:00  INFO 11120 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:18:19.628-03:00  INFO 11120 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:18:19.628-03:00  INFO 11120 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:18:19.694-03:00  INFO 11120 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T01:18:19.694-03:00  INFO 11120 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 443 ms
2023-01-28T01:18:19.772-03:00  INFO 11120 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-01-28T01:18:19.776-03:00  INFO 11120 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:b9775fe5-fe46-4037-907a-aef9751c7503 user=SA
2023-01-28T01:18:19.777-03:00  INFO 11120 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-01-28T01:18:19.826-03:00  INFO 11120 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:18:19.828-03:00  WARN 11120 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:18:19.831-03:00  INFO 11120 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:18:19.880-03:00  INFO 11120 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:18:19.880-03:00  INFO 11120 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:18:20.023-03:00  WARN 11120 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:18:21.216-03:00  INFO 11120 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79b01476, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@99a8a49, org.springframework.security.web.context.SecurityContextHolderFilter@2739f91b, org.springframework.security.web.header.HeaderWriterFilter@b8d8fb7, org.springframework.security.web.authentication.logout.LogoutFilter@7680cb52, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48720dcf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f65c341, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@234523e, org.springframework.security.web.session.SessionManagementFilter@38913b95, org.springframework.security.web.access.ExceptionTranslationFilter@5047fc77, org.springframework.security.web.access.intercept.AuthorizationFilter@2fba0d7a]
2023-01-28T01:18:21.995-03:00  INFO 11120 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 52958 (http) with context path ''
2023-01-28T01:18:21.999-03:00  INFO 11120 --- [main] c.example.ec.web.RatingControllerTest    : Started RatingControllerTest in 2.767 seconds (process running for 10.076)
2023-01-28T01:18:22.145-03:00  INFO 11120 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T01:18:22.145-03:00  INFO 11120 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T01:18:22.146-03:00  INFO 11120 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-01-28T01:18:22.178-03:00  INFO 11120 --- [http-nio-auto-1-exec-1] com.example.ec.web.RatingController      : GET /ratings/{id}
2023-01-28T01:18:22.245-03:00  INFO 11120 --- [http-nio-auto-1-exec-2] com.example.ec.web.RatingController      : GET /ratings
2023-01-28T01:18:22.256-03:00  INFO 11120 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.TourRatingControllerTest]: TourRatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:18:22.257-03:00  INFO 11120 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.TourRatingControllerTest
2023-01-28T01:18:22.268-03:00  INFO 11120 --- [http-nio-auto-1-exec-3] c.example.ec.web.TourRatingController    : DELETE /tours/999/ratings/1000
2023-01-28T01:18:22.287-03:00  INFO 11120 --- [http-nio-auto-1-exec-4] c.example.ec.web.TourRatingController    : GET /tours/999/ratings
2023-01-28T01:18:22.356-03:00  INFO 11120 --- [http-nio-auto-1-exec-5] c.example.ec.web.TourRatingController    : PUT /tours/999/ratings
2023-01-28T01:18:22.368-03:00  INFO 11120 --- [http-nio-auto-1-exec-6] c.example.ec.web.TourRatingController    : POST /tours/999/ratings
2023-01-28T01:18:22.377-03:00  INFO 11120 --- [http-nio-auto-1-exec-7] c.example.ec.web.TourRatingController    : GET /tours/999/ratings/average
2023-01-28T01:18:22.389-03:00  INFO 11120 --- [http-nio-auto-1-exec-8] c.example.ec.web.TourRatingController    : POST /tours/999/ratings/3
2023-01-28T01:18:22.403-03:00  INFO 11120 --- [http-nio-auto-1-exec-9] c.example.ec.web.TourRatingController    : PATCH /tours/999/ratings
2023-01-28T01:18:22.409-03:00  INFO 11120 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:18:22.410-03:00  INFO 11120 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.UserControllerTest
2023-01-28T01:18:22.427-03:00  INFO 11120 --- [main] com.example.ec.web.UserControllerTest    : Starting UserControllerTest using Java 18.0.2.1 with PID 11120 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:18:22.427-03:00 DEBUG 11120 --- [main] com.example.ec.web.UserControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:18:22.427-03:00  INFO 11120 --- [main] com.example.ec.web.UserControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:18:22.620-03:00  INFO 11120 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:18:22.629-03:00  INFO 11120 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 5 JPA repository interfaces.
2023-01-28T01:18:22.709-03:00  INFO 11120 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:18:22.710-03:00  INFO 11120 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:18:22.710-03:00  INFO 11120 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:18:22.732-03:00  INFO 11120 --- [main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-01-28T01:18:22.732-03:00  INFO 11120 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 303 ms
2023-01-28T01:18:22.853-03:00  INFO 11120 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2023-01-28T01:18:22.897-03:00  INFO 11120 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:2de99554-fad1-438f-bc5f-465d7be9f1e2 user=SA
2023-01-28T01:18:22.898-03:00  INFO 11120 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2023-01-28T01:18:22.934-03:00  INFO 11120 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:18:22.937-03:00  WARN 11120 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:18:22.940-03:00  INFO 11120 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:18:22.996-03:00  INFO 11120 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:18:22.996-03:00  INFO 11120 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:18:23.136-03:00  WARN 11120 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:18:24.802-03:00  INFO 11120 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45c95343, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70900474, org.springframework.security.web.context.SecurityContextHolderFilter@3217aada, org.springframework.security.web.header.HeaderWriterFilter@35fe64ca, org.springframework.security.web.authentication.logout.LogoutFilter@3f314bad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34f14035, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72efba55, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b303504, org.springframework.security.web.session.SessionManagementFilter@74d6d08a, org.springframework.security.web.access.ExceptionTranslationFilter@2a4594b1, org.springframework.security.web.access.intercept.AuthorizationFilter@ecd7bee]
2023-01-28T01:18:24.944-03:00  INFO 11120 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 52971 (http) with context path ''
2023-01-28T01:18:24.948-03:00  INFO 11120 --- [main] com.example.ec.web.UserControllerTest    : Started UserControllerTest in 2.535 seconds (process running for 13.025)
2023-01-28T01:18:25.057-03:00  INFO 11120 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:18:25.058-03:00  INFO 11120 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T01:18:25.161-03:00  INFO 11120 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T01:18:25.205-03:00  INFO 11120 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:18:25.206-03:00  INFO 11120 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-01-28T01:18:25.330-03:00  INFO 11120 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2023-01-28T01:18:25.353-03:00  INFO 11120 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:18:25.354-03:00  INFO 11120 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2023-01-28T01:18:25.419-03:00  INFO 11120 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2023-01-28T01:26:28.977-03:00  INFO 5780 --- [main] c.e.ec.ExplorecaliApplicationTests       : Starting ExplorecaliApplicationTests using Java 18.0.2.1 with PID 5780 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:26:28.978-03:00 DEBUG 5780 --- [main] c.e.ec.ExplorecaliApplicationTests       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:26:28.979-03:00  INFO 5780 --- [main] c.e.ec.ExplorecaliApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:26:29.667-03:00  INFO 5780 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:26:29.718-03:00  INFO 5780 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2023-01-28T01:26:30.185-03:00  INFO 5780 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T01:26:30.337-03:00  INFO 5780 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:25905cc3-8374-4c67-9e4a-54e82ea93c58 user=SA
2023-01-28T01:26:30.339-03:00  INFO 5780 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T01:26:30.485-03:00  INFO 5780 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:26:30.544-03:00  INFO 5780 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T01:26:30.577-03:00  WARN 5780 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:26:30.684-03:00  INFO 5780 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:26:31.265-03:00  INFO 5780 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:26:31.272-03:00  INFO 5780 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:26:31.923-03:00  WARN 5780 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:26:32.797-03:00  INFO 5780 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14a3a66c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1738d3b2, org.springframework.security.web.context.SecurityContextHolderFilter@cfb462, org.springframework.security.web.header.HeaderWriterFilter@59ebe484, org.springframework.security.web.authentication.logout.LogoutFilter@2250deae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54d6f172, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d21a69f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@539953af, org.springframework.security.web.session.SessionManagementFilter@9abbe39, org.springframework.security.web.access.ExceptionTranslationFilter@7640a191, org.springframework.security.web.access.intercept.AuthorizationFilter@9214725]
2023-01-28T01:26:33.209-03:00  INFO 5780 --- [main] c.e.ec.ExplorecaliApplicationTests       : Started ExplorecaliApplicationTests in 4.438 seconds (process running for 5.788)
2023-01-28T01:26:33.235-03:00  INFO 5780 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.repo.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:26:33.241-03:00  INFO 5780 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.repo.UserRepositoryTest
2023-01-28T01:26:33.360-03:00  INFO 5780 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.TourRatingServiceIntegrationTest]: TourRatingServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:26:33.365-03:00  INFO 5780 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.TourRatingServiceIntegrationTest
2023-01-28T01:26:33.375-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:26:33.405-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:26:33.410-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 4
2023-01-28T01:26:33.418-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:26:33.430-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:26:33.440-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:26:33.446-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:26:33.450-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:26:33.455-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:26:33.458-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [100, 101, 102]
2023-01-28T01:26:33.458-03:00 DEBUG 5780 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 100
2023-01-28T01:26:33.459-03:00 DEBUG 5780 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 101
2023-01-28T01:26:33.460-03:00 DEBUG 5780 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 102
2023-01-28T01:26:33.460-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:26:33.466-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:26:33.631-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:26:33.636-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 123
2023-01-28T01:26:33.644-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 123
2023-01-28T01:26:33.647-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Update some of Rating for tour 1 of customers 123
2023-01-28T01:26:33.649-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [123, 124]
2023-01-28T01:26:33.650-03:00 DEBUG 5780 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 123
2023-01-28T01:26:33.650-03:00 DEBUG 5780 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 124
2023-01-28T01:26:33.654-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 123
2023-01-28T01:26:33.657-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:26:33.704-03:00  INFO 5780 --- [main] c.example.ec.service.TourRatingService   : Lookup Rating for tour 1
2023-01-28T01:26:33.706-03:00  INFO 5780 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.UserServiceIntegrationTest]: UserServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:26:33.707-03:00  INFO 5780 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.UserServiceIntegrationTest
2023-01-28T01:26:33.714-03:00  INFO 5780 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T01:26:33.972-03:00  WARN 5780 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2023-01-28T01:26:33.972-03:00 ERROR 5780 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.SECURITY_USER(ID) ( /* key:1 */ CAST(1 AS BIGINT), 'admin', '$2a$12$ZhGS.zcWt1gnZ9xRNp7inOvo5hIT0ngN7N.pN939cShxKvaQYHnnu', 'Administrator', 'Adminstrator')"; SQL statement:
insert into security_user (id, first_name, last_name, password, username) values (default, ?, ?, ?, ?) [23505-214]
2023-01-28T01:26:34.110-03:00  INFO 5780 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.RatingControllerTest]: RatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:26:34.120-03:00  INFO 5780 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.RatingControllerTest
2023-01-28T01:26:34.141-03:00  INFO 5780 --- [main] c.example.ec.web.RatingControllerTest    : Starting RatingControllerTest using Java 18.0.2.1 with PID 5780 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:26:34.142-03:00 DEBUG 5780 --- [main] c.example.ec.web.RatingControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:26:34.142-03:00  INFO 5780 --- [main] c.example.ec.web.RatingControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:26:34.304-03:00  INFO 5780 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:26:34.318-03:00  INFO 5780 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 5 JPA repository interfaces.
2023-01-28T01:26:34.504-03:00  INFO 5780 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:26:34.513-03:00  INFO 5780 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:26:34.514-03:00  INFO 5780 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:26:34.584-03:00  INFO 5780 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T01:26:34.585-03:00  INFO 5780 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 442 ms
2023-01-28T01:26:34.648-03:00  INFO 5780 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-01-28T01:26:34.652-03:00  INFO 5780 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:0917f2d6-0a3a-4a4c-af3b-c403040ee7ba user=SA
2023-01-28T01:26:34.652-03:00  INFO 5780 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-01-28T01:26:34.684-03:00  INFO 5780 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:26:34.685-03:00  WARN 5780 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:26:34.688-03:00  INFO 5780 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:26:34.738-03:00  INFO 5780 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:26:34.738-03:00  INFO 5780 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:26:34.867-03:00  WARN 5780 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:26:35.535-03:00  INFO 5780 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59e5ecab, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79e0f00b, org.springframework.security.web.context.SecurityContextHolderFilter@2e44bc38, org.springframework.security.web.header.HeaderWriterFilter@1e1908ab, org.springframework.security.web.authentication.logout.LogoutFilter@234523e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2fba0d7a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79b01476, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5623354e, org.springframework.security.web.session.SessionManagementFilter@7680cb52, org.springframework.security.web.access.ExceptionTranslationFilter@2f65c341, org.springframework.security.web.access.intercept.AuthorizationFilter@4f0e6be]
2023-01-28T01:26:35.876-03:00  INFO 5780 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 53241 (http) with context path ''
2023-01-28T01:26:35.879-03:00  INFO 5780 --- [main] c.example.ec.web.RatingControllerTest    : Started RatingControllerTest in 1.756 seconds (process running for 8.458)
2023-01-28T01:26:36.011-03:00  INFO 5780 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T01:26:36.011-03:00  INFO 5780 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T01:26:36.012-03:00  INFO 5780 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-01-28T01:26:36.042-03:00  INFO 5780 --- [http-nio-auto-1-exec-1] com.example.ec.web.RatingController      : GET /ratings/{id}
2023-01-28T01:26:36.106-03:00  INFO 5780 --- [http-nio-auto-1-exec-2] com.example.ec.web.RatingController      : GET /ratings
2023-01-28T01:26:36.116-03:00  INFO 5780 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.TourRatingControllerTest]: TourRatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:26:36.117-03:00  INFO 5780 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.TourRatingControllerTest
2023-01-28T01:26:36.126-03:00  INFO 5780 --- [http-nio-auto-1-exec-3] c.example.ec.web.TourRatingController    : DELETE /tours/999/ratings/1000
2023-01-28T01:26:36.140-03:00  INFO 5780 --- [http-nio-auto-1-exec-4] c.example.ec.web.TourRatingController    : GET /tours/999/ratings
2023-01-28T01:26:36.196-03:00  INFO 5780 --- [http-nio-auto-1-exec-5] c.example.ec.web.TourRatingController    : PUT /tours/999/ratings
2023-01-28T01:26:36.208-03:00  INFO 5780 --- [http-nio-auto-1-exec-6] c.example.ec.web.TourRatingController    : POST /tours/999/ratings
2023-01-28T01:26:36.215-03:00  INFO 5780 --- [http-nio-auto-1-exec-7] c.example.ec.web.TourRatingController    : GET /tours/999/ratings/average
2023-01-28T01:26:36.227-03:00  INFO 5780 --- [http-nio-auto-1-exec-8] c.example.ec.web.TourRatingController    : POST /tours/999/ratings/3
2023-01-28T01:26:36.240-03:00  INFO 5780 --- [http-nio-auto-1-exec-9] c.example.ec.web.TourRatingController    : PATCH /tours/999/ratings
2023-01-28T01:26:36.245-03:00  INFO 5780 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:26:36.246-03:00  INFO 5780 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.UserControllerTest
2023-01-28T01:26:36.260-03:00  INFO 5780 --- [main] com.example.ec.web.UserControllerTest    : Starting UserControllerTest using Java 18.0.2.1 with PID 5780 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:26:36.260-03:00 DEBUG 5780 --- [main] com.example.ec.web.UserControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:26:36.260-03:00  INFO 5780 --- [main] com.example.ec.web.UserControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:26:36.414-03:00  INFO 5780 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:26:36.424-03:00  INFO 5780 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 5 JPA repository interfaces.
2023-01-28T01:26:36.495-03:00  INFO 5780 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:26:36.495-03:00  INFO 5780 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:26:36.496-03:00  INFO 5780 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:26:36.519-03:00  INFO 5780 --- [main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-01-28T01:26:36.519-03:00  INFO 5780 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 257 ms
2023-01-28T01:26:36.574-03:00  INFO 5780 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2023-01-28T01:26:36.592-03:00  INFO 5780 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:4ae9fcec-a928-4f2c-9d68-321f4e660694 user=SA
2023-01-28T01:26:36.593-03:00  INFO 5780 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2023-01-28T01:26:36.621-03:00  INFO 5780 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:26:36.624-03:00  WARN 5780 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:26:36.628-03:00  INFO 5780 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:26:36.683-03:00  INFO 5780 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:26:36.684-03:00  INFO 5780 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:26:36.795-03:00  WARN 5780 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:26:37.955-03:00  INFO 5780 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ec73d87, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@611b2857, org.springframework.security.web.context.SecurityContextHolderFilter@307f6602, org.springframework.security.web.header.HeaderWriterFilter@34f14035, org.springframework.security.web.authentication.logout.LogoutFilter@45c95343, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f314bad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ff4496, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11d823a4, org.springframework.security.web.session.SessionManagementFilter@72efba55, org.springframework.security.web.access.ExceptionTranslationFilter@3217aada, org.springframework.security.web.access.intercept.AuthorizationFilter@b303504]
2023-01-28T01:26:38.055-03:00  INFO 5780 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 53246 (http) with context path ''
2023-01-28T01:26:38.058-03:00  INFO 5780 --- [main] com.example.ec.web.UserControllerTest    : Started UserControllerTest in 1.809 seconds (process running for 10.637)
2023-01-28T01:26:38.098-03:00  INFO 5780 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:26:38.101-03:00  INFO 5780 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T01:26:38.122-03:00  INFO 5780 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T01:26:38.136-03:00  INFO 5780 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:26:38.136-03:00  INFO 5780 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-01-28T01:26:38.153-03:00  INFO 5780 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2023-01-28T01:26:38.187-03:00  INFO 5780 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:26:38.188-03:00  INFO 5780 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2023-01-28T01:26:38.206-03:00  INFO 5780 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2023-01-28T01:26:50.197-03:00  INFO 25784 --- [main] c.e.ec.ExplorecaliApplicationTests       : Starting ExplorecaliApplicationTests using Java 18.0.2.1 with PID 25784 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:26:50.197-03:00 DEBUG 25784 --- [main] c.e.ec.ExplorecaliApplicationTests       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:26:50.198-03:00  INFO 25784 --- [main] c.e.ec.ExplorecaliApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:26:50.857-03:00  INFO 25784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:26:50.914-03:00  INFO 25784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 5 JPA repository interfaces.
2023-01-28T01:26:51.409-03:00  INFO 25784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T01:26:51.574-03:00  INFO 25784 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:940de119-e126-4f92-8da9-69d980473a6d user=SA
2023-01-28T01:26:51.575-03:00  INFO 25784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T01:26:51.713-03:00  INFO 25784 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:26:51.767-03:00  INFO 25784 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T01:26:51.802-03:00  WARN 25784 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:26:51.914-03:00  INFO 25784 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:26:52.504-03:00  INFO 25784 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:26:52.511-03:00  INFO 25784 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:26:53.112-03:00  WARN 25784 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:26:53.991-03:00  INFO 25784 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@55b7f0d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e0faed6, org.springframework.security.web.context.SecurityContextHolderFilter@5d3a147f, org.springframework.security.web.header.HeaderWriterFilter@441d3ddf, org.springframework.security.web.authentication.logout.LogoutFilter@2297c8bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72fc6b5e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4353230, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53ccbc15, org.springframework.security.web.session.SessionManagementFilter@2250deae, org.springframework.security.web.access.ExceptionTranslationFilter@4a9b4d4e, org.springframework.security.web.access.intercept.AuthorizationFilter@68ac6e6e]
2023-01-28T01:26:54.433-03:00  INFO 25784 --- [main] c.e.ec.ExplorecaliApplicationTests       : Started ExplorecaliApplicationTests in 4.428 seconds (process running for 5.715)
2023-01-28T01:26:54.459-03:00  INFO 25784 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.repo.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:26:54.465-03:00  INFO 25784 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.repo.UserRepositoryTest
2023-01-28T01:26:54.593-03:00  INFO 25784 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.TourRatingServiceIntegrationTest]: TourRatingServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:26:54.599-03:00  INFO 25784 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.TourRatingServiceIntegrationTest
2023-01-28T01:26:54.609-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:26:54.636-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:26:54.640-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 4
2023-01-28T01:26:54.649-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:26:54.663-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:26:54.673-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:26:54.680-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:26:54.683-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:26:54.688-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:26:54.690-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [100, 101, 102]
2023-01-28T01:26:54.691-03:00 DEBUG 25784 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 100
2023-01-28T01:26:54.692-03:00 DEBUG 25784 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 101
2023-01-28T01:26:54.693-03:00 DEBUG 25784 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 102
2023-01-28T01:26:54.693-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:26:54.699-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:26:54.860-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:26:54.865-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 123
2023-01-28T01:26:54.872-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 123
2023-01-28T01:26:54.875-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Update some of Rating for tour 1 of customers 123
2023-01-28T01:26:54.877-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [123, 124]
2023-01-28T01:26:54.878-03:00 DEBUG 25784 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 123
2023-01-28T01:26:54.878-03:00 DEBUG 25784 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 124
2023-01-28T01:26:54.881-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 123
2023-01-28T01:26:54.884-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:26:54.931-03:00  INFO 25784 --- [main] c.example.ec.service.TourRatingService   : Lookup Rating for tour 1
2023-01-28T01:26:54.934-03:00  INFO 25784 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.UserServiceIntegrationTest]: UserServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:26:54.935-03:00  INFO 25784 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.UserServiceIntegrationTest
2023-01-28T01:26:54.943-03:00  INFO 25784 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T01:26:55.202-03:00  WARN 25784 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2023-01-28T01:26:55.202-03:00 ERROR 25784 --- [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.SECURITY_USER(ID) ( /* key:1 */ CAST(1 AS BIGINT), 'admin', '$2a$12$ZhGS.zcWt1gnZ9xRNp7inOvo5hIT0ngN7N.pN939cShxKvaQYHnnu', 'Administrator', 'Adminstrator')"; SQL statement:
insert into security_user (id, first_name, last_name, password, username) values (default, ?, ?, ?, ?) [23505-214]
2023-01-28T01:26:55.340-03:00  INFO 25784 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.RatingControllerTest]: RatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:26:55.349-03:00  INFO 25784 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.RatingControllerTest
2023-01-28T01:26:55.371-03:00  INFO 25784 --- [main] c.example.ec.web.RatingControllerTest    : Starting RatingControllerTest using Java 18.0.2.1 with PID 25784 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:26:55.371-03:00 DEBUG 25784 --- [main] c.example.ec.web.RatingControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:26:55.371-03:00  INFO 25784 --- [main] c.example.ec.web.RatingControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:26:55.538-03:00  INFO 25784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:26:55.548-03:00  INFO 25784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 5 JPA repository interfaces.
2023-01-28T01:26:55.703-03:00  INFO 25784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:26:55.710-03:00  INFO 25784 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:26:55.711-03:00  INFO 25784 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:26:55.774-03:00  INFO 25784 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T01:26:55.775-03:00  INFO 25784 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 402 ms
2023-01-28T01:26:55.835-03:00  INFO 25784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-01-28T01:26:55.840-03:00  INFO 25784 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:25b4d585-5d19-432a-881a-90d6c25b215e user=SA
2023-01-28T01:26:55.840-03:00  INFO 25784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-01-28T01:26:55.872-03:00  INFO 25784 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:26:55.874-03:00  WARN 25784 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:26:55.877-03:00  INFO 25784 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:26:55.926-03:00  INFO 25784 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:26:55.927-03:00  INFO 25784 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:26:56.056-03:00  WARN 25784 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:26:57.190-03:00  INFO 25784 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@22a7d2f2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22479830, org.springframework.security.web.context.SecurityContextHolderFilter@60c588cf, org.springframework.security.web.header.HeaderWriterFilter@68b5a37d, org.springframework.security.web.authentication.logout.LogoutFilter@f11fe28, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c8d8934, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69e67993, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45a33515, org.springframework.security.web.session.SessionManagementFilter@558fe3b0, org.springframework.security.web.access.ExceptionTranslationFilter@124bc9fa, org.springframework.security.web.access.intercept.AuthorizationFilter@1565c047]
2023-01-28T01:26:57.600-03:00  INFO 25784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 53259 (http) with context path ''
2023-01-28T01:26:57.603-03:00  INFO 25784 --- [main] c.example.ec.web.RatingControllerTest    : Started RatingControllerTest in 2.251 seconds (process running for 8.885)
2023-01-28T01:26:57.732-03:00  INFO 25784 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T01:26:57.732-03:00  INFO 25784 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T01:26:57.733-03:00  INFO 25784 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-01-28T01:26:57.759-03:00  INFO 25784 --- [http-nio-auto-1-exec-1] com.example.ec.web.RatingController      : GET /ratings/{id}
2023-01-28T01:26:57.818-03:00  INFO 25784 --- [http-nio-auto-1-exec-2] com.example.ec.web.RatingController      : GET /ratings
2023-01-28T01:26:57.827-03:00  INFO 25784 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.TourRatingControllerTest]: TourRatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:26:57.828-03:00  INFO 25784 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.TourRatingControllerTest
2023-01-28T01:26:57.836-03:00  INFO 25784 --- [http-nio-auto-1-exec-3] c.example.ec.web.TourRatingController    : DELETE /tours/999/ratings/1000
2023-01-28T01:26:57.849-03:00  INFO 25784 --- [http-nio-auto-1-exec-4] c.example.ec.web.TourRatingController    : GET /tours/999/ratings
2023-01-28T01:26:57.903-03:00  INFO 25784 --- [http-nio-auto-1-exec-5] c.example.ec.web.TourRatingController    : PUT /tours/999/ratings
2023-01-28T01:26:57.915-03:00  INFO 25784 --- [http-nio-auto-1-exec-6] c.example.ec.web.TourRatingController    : POST /tours/999/ratings
2023-01-28T01:26:57.922-03:00  INFO 25784 --- [http-nio-auto-1-exec-7] c.example.ec.web.TourRatingController    : GET /tours/999/ratings/average
2023-01-28T01:26:57.935-03:00  INFO 25784 --- [http-nio-auto-1-exec-8] c.example.ec.web.TourRatingController    : POST /tours/999/ratings/3
2023-01-28T01:26:57.949-03:00  INFO 25784 --- [http-nio-auto-1-exec-9] c.example.ec.web.TourRatingController    : PATCH /tours/999/ratings
2023-01-28T01:26:57.955-03:00  INFO 25784 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:26:57.956-03:00  INFO 25784 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.UserControllerTest
2023-01-28T01:26:57.970-03:00  INFO 25784 --- [main] com.example.ec.web.UserControllerTest    : Starting UserControllerTest using Java 18.0.2.1 with PID 25784 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:26:57.970-03:00 DEBUG 25784 --- [main] com.example.ec.web.UserControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:26:57.970-03:00  INFO 25784 --- [main] com.example.ec.web.UserControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:26:58.113-03:00  INFO 25784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:26:58.122-03:00  INFO 25784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 5 JPA repository interfaces.
2023-01-28T01:26:58.186-03:00  INFO 25784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:26:58.187-03:00  INFO 25784 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:26:58.187-03:00  INFO 25784 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:26:58.210-03:00  INFO 25784 --- [main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-01-28T01:26:58.210-03:00  INFO 25784 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 239 ms
2023-01-28T01:26:58.294-03:00  INFO 25784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2023-01-28T01:26:58.314-03:00  INFO 25784 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:844d5c8a-be34-4305-aa3c-edb1485e7f0a user=SA
2023-01-28T01:26:58.314-03:00  INFO 25784 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2023-01-28T01:26:58.339-03:00  INFO 25784 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:26:58.341-03:00  WARN 25784 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:26:58.343-03:00  INFO 25784 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:26:58.389-03:00  INFO 25784 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:26:58.389-03:00  INFO 25784 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:26:58.509-03:00  WARN 25784 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:26:59.497-03:00  INFO 25784 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@143211f1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33650678, org.springframework.security.web.context.SecurityContextHolderFilter@5c77cb42, org.springframework.security.web.header.HeaderWriterFilter@6aa2ffd3, org.springframework.security.web.authentication.logout.LogoutFilter@5a5fb5ea, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c4d8b04, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@116cad39, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3925aa6a, org.springframework.security.web.session.SessionManagementFilter@12e7664b, org.springframework.security.web.access.ExceptionTranslationFilter@24c28909, org.springframework.security.web.access.intercept.AuthorizationFilter@2e3b7b0b]
2023-01-28T01:26:59.642-03:00  INFO 25784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 53265 (http) with context path ''
2023-01-28T01:26:59.645-03:00  INFO 25784 --- [main] com.example.ec.web.UserControllerTest    : Started UserControllerTest in 1.686 seconds (process running for 10.927)
2023-01-28T01:26:59.725-03:00  INFO 25784 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:26:59.727-03:00  INFO 25784 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T01:26:59.781-03:00  INFO 25784 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T01:26:59.816-03:00  INFO 25784 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:26:59.817-03:00  INFO 25784 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-01-28T01:26:59.857-03:00  INFO 25784 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2023-01-28T01:26:59.890-03:00  INFO 25784 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:26:59.891-03:00  INFO 25784 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2023-01-28T01:26:59.924-03:00  INFO 25784 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2023-01-28T01:30:16.253-03:00  INFO 24884 --- [main] c.e.ec.ExplorecaliApplicationTests       : Starting ExplorecaliApplicationTests using Java 18.0.2.1 with PID 24884 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:30:16.253-03:00 DEBUG 24884 --- [main] c.e.ec.ExplorecaliApplicationTests       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:30:16.254-03:00  INFO 24884 --- [main] c.e.ec.ExplorecaliApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:30:16.917-03:00  INFO 24884 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:30:16.973-03:00  INFO 24884 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2023-01-28T01:30:17.462-03:00  INFO 24884 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T01:30:17.617-03:00  INFO 24884 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:77ae540f-9848-494e-80e0-a56ce8c40da1 user=SA
2023-01-28T01:30:17.619-03:00  INFO 24884 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T01:30:17.762-03:00  INFO 24884 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:30:17.811-03:00  INFO 24884 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T01:30:17.849-03:00  WARN 24884 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:30:17.957-03:00  INFO 24884 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:30:18.541-03:00  INFO 24884 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:30:18.548-03:00  INFO 24884 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:30:19.168-03:00  WARN 24884 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:30:20.001-03:00  INFO 24884 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3eb6d7a9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@345f4e0d, org.springframework.security.web.context.SecurityContextHolderFilter@59ebe484, org.springframework.security.web.header.HeaderWriterFilter@60a4595e, org.springframework.security.web.authentication.logout.LogoutFilter@50cadbae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1cafb30, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cc28282, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c3eeda4, org.springframework.security.web.session.SessionManagementFilter@7b1bb01c, org.springframework.security.web.access.ExceptionTranslationFilter@6a90b5e8, org.springframework.security.web.access.intercept.AuthorizationFilter@72cf159f]
2023-01-28T01:30:20.397-03:00  INFO 24884 --- [main] c.e.ec.ExplorecaliApplicationTests       : Started ExplorecaliApplicationTests in 4.339 seconds (process running for 5.609)
2023-01-28T01:30:20.422-03:00  INFO 24884 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.repo.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:30:20.428-03:00  INFO 24884 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.repo.UserRepositoryTest
2023-01-28T01:30:20.570-03:00  INFO 24884 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.TourRatingServiceIntegrationTest]: TourRatingServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:30:20.576-03:00  INFO 24884 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.TourRatingServiceIntegrationTest
2023-01-28T01:30:20.588-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:30:20.620-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:30:20.625-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 4
2023-01-28T01:30:20.634-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:30:20.647-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:30:20.657-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:30:20.667-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:30:20.671-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:30:20.679-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:30:20.682-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [100, 101, 102]
2023-01-28T01:30:20.683-03:00 DEBUG 24884 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 100
2023-01-28T01:30:20.684-03:00 DEBUG 24884 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 101
2023-01-28T01:30:20.684-03:00 DEBUG 24884 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 102
2023-01-28T01:30:20.685-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:30:20.691-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:30:20.861-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:30:20.865-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 123
2023-01-28T01:30:20.872-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 123
2023-01-28T01:30:20.874-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Update some of Rating for tour 1 of customers 123
2023-01-28T01:30:20.877-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [123, 124]
2023-01-28T01:30:20.877-03:00 DEBUG 24884 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 123
2023-01-28T01:30:20.877-03:00 DEBUG 24884 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 124
2023-01-28T01:30:20.879-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 123
2023-01-28T01:30:20.881-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:30:20.929-03:00  INFO 24884 --- [main] c.example.ec.service.TourRatingService   : Lookup Rating for tour 1
2023-01-28T01:30:20.931-03:00  INFO 24884 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.UserServiceIntegrationTest]: UserServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:30:20.933-03:00  INFO 24884 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.UserServiceIntegrationTest
2023-01-28T01:30:20.940-03:00  INFO 24884 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T01:30:21.330-03:00  INFO 24884 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.RatingControllerTest]: RatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:30:21.338-03:00  INFO 24884 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.RatingControllerTest
2023-01-28T01:30:21.360-03:00  INFO 24884 --- [main] c.example.ec.web.RatingControllerTest    : Starting RatingControllerTest using Java 18.0.2.1 with PID 24884 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:30:21.361-03:00 DEBUG 24884 --- [main] c.example.ec.web.RatingControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:30:21.361-03:00  INFO 24884 --- [main] c.example.ec.web.RatingControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:30:21.514-03:00  INFO 24884 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:30:21.526-03:00  INFO 24884 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 5 JPA repository interfaces.
2023-01-28T01:30:21.708-03:00  INFO 24884 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:30:21.717-03:00  INFO 24884 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:30:21.717-03:00  INFO 24884 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:30:21.788-03:00  INFO 24884 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T01:30:21.788-03:00  INFO 24884 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 426 ms
2023-01-28T01:30:21.853-03:00  INFO 24884 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-01-28T01:30:21.856-03:00  INFO 24884 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:d6ba71bf-dc29-4018-aa19-751ad0bc9cc6 user=SA
2023-01-28T01:30:21.856-03:00  INFO 24884 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-01-28T01:30:21.888-03:00  INFO 24884 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:30:21.890-03:00  WARN 24884 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:30:21.893-03:00  INFO 24884 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:30:21.939-03:00  INFO 24884 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:30:21.939-03:00  INFO 24884 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:30:22.066-03:00  WARN 24884 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:30:22.782-03:00  INFO 24884 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6145981c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16bc97b9, org.springframework.security.web.context.SecurityContextHolderFilter@10c88d11, org.springframework.security.web.header.HeaderWriterFilter@3468faa5, org.springframework.security.web.authentication.logout.LogoutFilter@67620d80, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@75f1c170, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63fa0b9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@178cf671, org.springframework.security.web.session.SessionManagementFilter@7308c29a, org.springframework.security.web.access.ExceptionTranslationFilter@3f4b52fa, org.springframework.security.web.access.intercept.AuthorizationFilter@67a2fb00]
2023-01-28T01:30:23.082-03:00  INFO 24884 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 63088 (http) with context path ''
2023-01-28T01:30:23.085-03:00  INFO 24884 --- [main] c.example.ec.web.RatingControllerTest    : Started RatingControllerTest in 1.744 seconds (process running for 8.297)
2023-01-28T01:30:23.218-03:00  INFO 24884 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T01:30:23.218-03:00  INFO 24884 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T01:30:23.219-03:00  INFO 24884 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-01-28T01:30:23.249-03:00  INFO 24884 --- [http-nio-auto-1-exec-1] com.example.ec.web.RatingController      : GET /ratings/{id}
2023-01-28T01:30:23.315-03:00  INFO 24884 --- [http-nio-auto-1-exec-2] com.example.ec.web.RatingController      : GET /ratings
2023-01-28T01:30:23.324-03:00  INFO 24884 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.TourRatingControllerTest]: TourRatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:30:23.325-03:00  INFO 24884 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.TourRatingControllerTest
2023-01-28T01:30:23.335-03:00  INFO 24884 --- [http-nio-auto-1-exec-3] c.example.ec.web.TourRatingController    : DELETE /tours/999/ratings/1000
2023-01-28T01:30:23.350-03:00  INFO 24884 --- [http-nio-auto-1-exec-4] c.example.ec.web.TourRatingController    : GET /tours/999/ratings
2023-01-28T01:30:23.407-03:00  INFO 24884 --- [http-nio-auto-1-exec-5] c.example.ec.web.TourRatingController    : PUT /tours/999/ratings
2023-01-28T01:30:23.418-03:00  INFO 24884 --- [http-nio-auto-1-exec-6] c.example.ec.web.TourRatingController    : POST /tours/999/ratings
2023-01-28T01:30:23.426-03:00  INFO 24884 --- [http-nio-auto-1-exec-7] c.example.ec.web.TourRatingController    : GET /tours/999/ratings/average
2023-01-28T01:30:23.438-03:00  INFO 24884 --- [http-nio-auto-1-exec-8] c.example.ec.web.TourRatingController    : POST /tours/999/ratings/3
2023-01-28T01:30:23.451-03:00  INFO 24884 --- [http-nio-auto-1-exec-9] c.example.ec.web.TourRatingController    : PATCH /tours/999/ratings
2023-01-28T01:30:23.456-03:00  INFO 24884 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:30:23.458-03:00  INFO 24884 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.UserControllerTest
2023-01-28T01:30:23.470-03:00  INFO 24884 --- [main] com.example.ec.web.UserControllerTest    : Starting UserControllerTest using Java 18.0.2.1 with PID 24884 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:30:23.470-03:00 DEBUG 24884 --- [main] com.example.ec.web.UserControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:30:23.470-03:00  INFO 24884 --- [main] com.example.ec.web.UserControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:30:23.616-03:00  INFO 24884 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:30:23.625-03:00  INFO 24884 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 5 JPA repository interfaces.
2023-01-28T01:30:23.688-03:00  INFO 24884 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:30:23.689-03:00  INFO 24884 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:30:23.689-03:00  INFO 24884 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:30:23.711-03:00  INFO 24884 --- [main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-01-28T01:30:23.712-03:00  INFO 24884 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 240 ms
2023-01-28T01:30:23.758-03:00  INFO 24884 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2023-01-28T01:30:23.771-03:00  INFO 24884 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:83eda2b5-5707-4e20-9f04-8562b253c1b0 user=SA
2023-01-28T01:30:23.771-03:00  INFO 24884 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2023-01-28T01:30:23.795-03:00  INFO 24884 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:30:23.797-03:00  WARN 24884 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:30:23.800-03:00  INFO 24884 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:30:23.848-03:00  INFO 24884 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:30:23.849-03:00  INFO 24884 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:30:23.945-03:00  WARN 24884 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:30:24.792-03:00  INFO 24884 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70aebcee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@399fd2ab, org.springframework.security.web.context.SecurityContextHolderFilter@548051d7, org.springframework.security.web.header.HeaderWriterFilter@b8df260, org.springframework.security.web.authentication.logout.LogoutFilter@1bba5848, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@350cf434, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@51761e07, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dac488d, org.springframework.security.web.session.SessionManagementFilter@4f1a6259, org.springframework.security.web.access.ExceptionTranslationFilter@27b8daa1, org.springframework.security.web.access.intercept.AuthorizationFilter@28220b56]
2023-01-28T01:30:24.898-03:00  INFO 24884 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 63095 (http) with context path ''
2023-01-28T01:30:24.901-03:00  INFO 24884 --- [main] com.example.ec.web.UserControllerTest    : Started UserControllerTest in 1.441 seconds (process running for 10.113)
2023-01-28T01:30:24.955-03:00  INFO 24884 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:30:24.956-03:00  INFO 24884 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T01:30:24.998-03:00  INFO 24884 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T01:30:25.012-03:00  INFO 24884 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:30:25.013-03:00  INFO 24884 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-01-28T01:30:25.049-03:00  INFO 24884 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2023-01-28T01:30:25.058-03:00  INFO 24884 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:30:25.058-03:00  INFO 24884 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2023-01-28T01:30:25.093-03:00  INFO 24884 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2023-01-28T01:31:13.199-03:00  INFO 25504 --- [main] c.e.e.s.UserServiceIntegrationTest       : Starting UserServiceIntegrationTest using Java 18.0.2.1 with PID 25504 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:31:13.200-03:00 DEBUG 25504 --- [main] c.e.e.s.UserServiceIntegrationTest       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:31:13.201-03:00  INFO 25504 --- [main] c.e.e.s.UserServiceIntegrationTest       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:31:13.940-03:00  INFO 25504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:31:13.995-03:00  INFO 25504 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2023-01-28T01:31:14.429-03:00  INFO 25504 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T01:31:14.590-03:00  INFO 25504 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:4a1c2bba-d7ec-4f4b-be19-95cf02cfeccf user=SA
2023-01-28T01:31:14.592-03:00  INFO 25504 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T01:31:14.744-03:00  INFO 25504 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:31:14.791-03:00  INFO 25504 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T01:31:14.925-03:00  WARN 25504 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:31:15.045-03:00  INFO 25504 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:31:15.743-03:00  INFO 25504 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:31:15.750-03:00  INFO 25504 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:31:16.388-03:00  WARN 25504 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:31:17.278-03:00  INFO 25504 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e818345, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d9c69f8, org.springframework.security.web.context.SecurityContextHolderFilter@f36c8b1, org.springframework.security.web.header.HeaderWriterFilter@3b22bcad, org.springframework.security.web.authentication.logout.LogoutFilter@495a9305, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@109f95b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d20cbb5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1235732d, org.springframework.security.web.session.SessionManagementFilter@6a08113d, org.springframework.security.web.access.ExceptionTranslationFilter@38276668, org.springframework.security.web.access.intercept.AuthorizationFilter@570089c4]
2023-01-28T01:31:17.759-03:00  INFO 25504 --- [main] c.e.e.s.UserServiceIntegrationTest       : Started UserServiceIntegrationTest in 4.73 seconds (process running for 5.926)
2023-01-28T01:31:18.007-03:00  INFO 25504 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T01:31:18.305-03:00  INFO 25504 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:31:18.307-03:00  INFO 25504 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T01:31:18.309-03:00  INFO 25504 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T01:33:14.345-03:00  INFO 14212 --- [main] c.e.ec.ExplorecaliApplicationTests       : Starting ExplorecaliApplicationTests using Java 18.0.2.1 with PID 14212 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:33:14.346-03:00 DEBUG 14212 --- [main] c.e.ec.ExplorecaliApplicationTests       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:33:14.346-03:00  INFO 14212 --- [main] c.e.ec.ExplorecaliApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:33:15.009-03:00  INFO 14212 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:33:15.068-03:00  INFO 14212 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 5 JPA repository interfaces.
2023-01-28T01:33:15.542-03:00  INFO 14212 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T01:33:15.697-03:00  INFO 14212 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:75c5133d-a4c3-42d4-b56e-385ae401e2bc user=SA
2023-01-28T01:33:15.698-03:00  INFO 14212 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T01:33:15.847-03:00  INFO 14212 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:33:15.888-03:00  INFO 14212 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T01:33:15.919-03:00  WARN 14212 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:33:16.022-03:00  INFO 14212 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:33:16.617-03:00  INFO 14212 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:33:16.624-03:00  INFO 14212 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:33:17.281-03:00  WARN 14212 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:33:18.173-03:00  INFO 14212 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5eaa6f76, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fc105dd, org.springframework.security.web.context.SecurityContextHolderFilter@420c9959, org.springframework.security.web.header.HeaderWriterFilter@2bd67cf9, org.springframework.security.web.authentication.logout.LogoutFilter@85eabca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f113867, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72cf159f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35129b9e, org.springframework.security.web.session.SessionManagementFilter@7d583602, org.springframework.security.web.access.ExceptionTranslationFilter@5122387, org.springframework.security.web.access.intercept.AuthorizationFilter@7712c315]
2023-01-28T01:33:18.608-03:00  INFO 14212 --- [main] c.e.ec.ExplorecaliApplicationTests       : Started ExplorecaliApplicationTests in 4.461 seconds (process running for 5.834)
2023-01-28T01:33:18.636-03:00  INFO 14212 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.repo.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:33:18.642-03:00  INFO 14212 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.repo.UserRepositoryTest
2023-01-28T01:33:18.766-03:00  INFO 14212 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.TourRatingServiceIntegrationTest]: TourRatingServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:33:18.770-03:00  INFO 14212 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.TourRatingServiceIntegrationTest
2023-01-28T01:33:18.782-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:33:18.810-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:33:18.814-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 4
2023-01-28T01:33:18.825-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:33:18.839-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:33:18.849-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:33:18.856-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:33:18.859-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:33:18.864-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:33:18.867-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [100, 101, 102]
2023-01-28T01:33:18.868-03:00 DEBUG 14212 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 100
2023-01-28T01:33:18.869-03:00 DEBUG 14212 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 101
2023-01-28T01:33:18.869-03:00 DEBUG 14212 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 102
2023-01-28T01:33:18.870-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:33:18.875-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:33:19.024-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:33:19.029-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 123
2023-01-28T01:33:19.036-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 123
2023-01-28T01:33:19.039-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Update some of Rating for tour 1 of customers 123
2023-01-28T01:33:19.041-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [123, 124]
2023-01-28T01:33:19.041-03:00 DEBUG 14212 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 123
2023-01-28T01:33:19.041-03:00 DEBUG 14212 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 124
2023-01-28T01:33:19.044-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 123
2023-01-28T01:33:19.047-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:33:19.095-03:00  INFO 14212 --- [main] c.example.ec.service.TourRatingService   : Lookup Rating for tour 1
2023-01-28T01:33:19.097-03:00  INFO 14212 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.UserServiceIntegrationTest]: UserServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:33:19.099-03:00  INFO 14212 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.UserServiceIntegrationTest
2023-01-28T01:33:19.106-03:00  INFO 14212 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T01:33:19.365-03:00  INFO 14212 --- [main] com.example.ec.service.UserService       : john2 doe2 is signing up with username: dummyUsername2, password: dummypassword2 and role: ROLE_CSR.
2023-01-28T01:33:19.740-03:00  INFO 14212 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.RatingControllerTest]: RatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:33:19.748-03:00  INFO 14212 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.RatingControllerTest
2023-01-28T01:33:19.771-03:00  INFO 14212 --- [main] c.example.ec.web.RatingControllerTest    : Starting RatingControllerTest using Java 18.0.2.1 with PID 14212 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:33:19.771-03:00 DEBUG 14212 --- [main] c.example.ec.web.RatingControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:33:19.772-03:00  INFO 14212 --- [main] c.example.ec.web.RatingControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:33:19.928-03:00  INFO 14212 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:33:19.937-03:00  INFO 14212 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 5 JPA repository interfaces.
2023-01-28T01:33:20.102-03:00  INFO 14212 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:33:20.110-03:00  INFO 14212 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:33:20.111-03:00  INFO 14212 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:33:20.188-03:00  INFO 14212 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T01:33:20.188-03:00  INFO 14212 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 415 ms
2023-01-28T01:33:20.263-03:00  INFO 14212 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-01-28T01:33:20.267-03:00  INFO 14212 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:9aa9f709-bbca-4cb5-a443-4f7ee4763ca7 user=SA
2023-01-28T01:33:20.268-03:00  INFO 14212 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-01-28T01:33:20.303-03:00  INFO 14212 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:33:20.306-03:00  WARN 14212 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:33:20.309-03:00  INFO 14212 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:33:20.374-03:00  INFO 14212 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:33:20.374-03:00  INFO 14212 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:33:20.511-03:00  WARN 14212 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:33:21.282-03:00  INFO 14212 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@330888a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62edf11e, org.springframework.security.web.context.SecurityContextHolderFilter@4ed74b13, org.springframework.security.web.header.HeaderWriterFilter@7917317d, org.springframework.security.web.authentication.logout.LogoutFilter@6ed1fdb7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@463fc3f6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e38e95, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79205848, org.springframework.security.web.session.SessionManagementFilter@5319f982, org.springframework.security.web.access.ExceptionTranslationFilter@5c6a915e, org.springframework.security.web.access.intercept.AuthorizationFilter@4cc40892]
2023-01-28T01:33:21.563-03:00  INFO 14212 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 63226 (http) with context path ''
2023-01-28T01:33:21.567-03:00  INFO 14212 --- [main] c.example.ec.web.RatingControllerTest    : Started RatingControllerTest in 1.815 seconds (process running for 8.794)
2023-01-28T01:33:21.724-03:00  INFO 14212 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T01:33:21.724-03:00  INFO 14212 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T01:33:21.725-03:00  INFO 14212 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-01-28T01:33:21.752-03:00  INFO 14212 --- [http-nio-auto-1-exec-1] com.example.ec.web.RatingController      : GET /ratings/{id}
2023-01-28T01:33:21.814-03:00  INFO 14212 --- [http-nio-auto-1-exec-2] com.example.ec.web.RatingController      : GET /ratings
2023-01-28T01:33:21.822-03:00  INFO 14212 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.TourRatingControllerTest]: TourRatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:33:21.823-03:00  INFO 14212 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.TourRatingControllerTest
2023-01-28T01:33:21.833-03:00  INFO 14212 --- [http-nio-auto-1-exec-3] c.example.ec.web.TourRatingController    : DELETE /tours/999/ratings/1000
2023-01-28T01:33:21.849-03:00  INFO 14212 --- [http-nio-auto-1-exec-4] c.example.ec.web.TourRatingController    : GET /tours/999/ratings
2023-01-28T01:33:21.912-03:00  INFO 14212 --- [http-nio-auto-1-exec-5] c.example.ec.web.TourRatingController    : PUT /tours/999/ratings
2023-01-28T01:33:21.926-03:00  INFO 14212 --- [http-nio-auto-1-exec-6] c.example.ec.web.TourRatingController    : POST /tours/999/ratings
2023-01-28T01:33:21.934-03:00  INFO 14212 --- [http-nio-auto-1-exec-7] c.example.ec.web.TourRatingController    : GET /tours/999/ratings/average
2023-01-28T01:33:21.947-03:00  INFO 14212 --- [http-nio-auto-1-exec-8] c.example.ec.web.TourRatingController    : POST /tours/999/ratings/3
2023-01-28T01:33:21.961-03:00  INFO 14212 --- [http-nio-auto-1-exec-9] c.example.ec.web.TourRatingController    : PATCH /tours/999/ratings
2023-01-28T01:33:21.967-03:00  INFO 14212 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:33:21.968-03:00  INFO 14212 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.UserControllerTest
2023-01-28T01:33:21.983-03:00  INFO 14212 --- [main] com.example.ec.web.UserControllerTest    : Starting UserControllerTest using Java 18.0.2.1 with PID 14212 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:33:21.983-03:00 DEBUG 14212 --- [main] com.example.ec.web.UserControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:33:21.983-03:00  INFO 14212 --- [main] com.example.ec.web.UserControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:33:22.126-03:00  INFO 14212 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:33:22.135-03:00  INFO 14212 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 5 JPA repository interfaces.
2023-01-28T01:33:22.202-03:00  INFO 14212 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:33:22.202-03:00  INFO 14212 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:33:22.203-03:00  INFO 14212 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:33:22.227-03:00  INFO 14212 --- [main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-01-28T01:33:22.227-03:00  INFO 14212 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 242 ms
2023-01-28T01:33:22.262-03:00  INFO 14212 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2023-01-28T01:33:22.284-03:00  INFO 14212 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:80c5588f-2cc9-4bb8-b23a-3ea082120a5d user=SA
2023-01-28T01:33:22.284-03:00  INFO 14212 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2023-01-28T01:33:22.309-03:00  INFO 14212 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:33:22.311-03:00  WARN 14212 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:33:22.314-03:00  INFO 14212 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:33:22.359-03:00  INFO 14212 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:33:22.359-03:00  INFO 14212 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:33:22.471-03:00  WARN 14212 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:33:23.450-03:00  INFO 14212 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@559ff07, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@510d8c03, org.springframework.security.web.context.SecurityContextHolderFilter@1231e446, org.springframework.security.web.header.HeaderWriterFilter@9fec3a3, org.springframework.security.web.authentication.logout.LogoutFilter@241e03cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32c60fec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d5a21cc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@592e1c4f, org.springframework.security.web.session.SessionManagementFilter@7190b5ce, org.springframework.security.web.access.ExceptionTranslationFilter@9252e52, org.springframework.security.web.access.intercept.AuthorizationFilter@3a6dd085]
2023-01-28T01:33:23.552-03:00  INFO 14212 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 63232 (http) with context path ''
2023-01-28T01:33:23.555-03:00  INFO 14212 --- [main] com.example.ec.web.UserControllerTest    : Started UserControllerTest in 1.584 seconds (process running for 10.782)
2023-01-28T01:33:23.597-03:00  INFO 14212 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:33:23.598-03:00  INFO 14212 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T01:33:23.637-03:00  INFO 14212 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T01:33:23.674-03:00  INFO 14212 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:33:23.675-03:00  INFO 14212 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-01-28T01:33:23.700-03:00  INFO 14212 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2023-01-28T01:33:23.729-03:00  INFO 14212 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:33:23.730-03:00  INFO 14212 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2023-01-28T01:33:23.760-03:00  INFO 14212 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2023-01-28T01:34:56.352-03:00  INFO 19788 --- [main] com.example.ec.ExplorecaliApplication    : Starting ExplorecaliApplication v0.0.1-SNAPSHOT using Java 18.0.2.1 with PID 19788 (D:\javaestudos\explorecali\target\explorecali-0.0.1-SNAPSHOT.jar started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:34:56.355-03:00 DEBUG 19788 --- [main] com.example.ec.ExplorecaliApplication    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:34:56.356-03:00  INFO 19788 --- [main] com.example.ec.ExplorecaliApplication    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:34:57.206-03:00  INFO 19788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:34:57.261-03:00  INFO 19788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 5 JPA repository interfaces.
2023-01-28T01:34:57.974-03:00  INFO 19788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-01-28T01:34:57.986-03:00  INFO 19788 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:34:57.986-03:00  INFO 19788 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:34:58.058-03:00  INFO 19788 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T01:34:58.059-03:00  INFO 19788 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1645 ms
2023-01-28T01:34:58.162-03:00  INFO 19788 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T01:34:58.364-03:00  INFO 19788 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:bfe2c17e-85bb-4f2d-9e9e-c92d9aab609f user=SA
2023-01-28T01:34:58.367-03:00  INFO 19788 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T01:34:58.514-03:00  INFO 19788 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:34:58.563-03:00  INFO 19788 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T01:34:58.718-03:00  WARN 19788 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:34:58.839-03:00  INFO 19788 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:34:59.518-03:00  INFO 19788 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:34:59.524-03:00  INFO 19788 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:35:00.176-03:00  WARN 19788 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:35:00.997-03:00  INFO 19788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5f8d9767, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16134476, org.springframework.security.web.context.SecurityContextHolderFilter@2251b3bc, org.springframework.security.web.header.HeaderWriterFilter@21ae657b, org.springframework.security.web.authentication.logout.LogoutFilter@1ca3d25b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c232051, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15d0d6c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62b09715, org.springframework.security.web.session.SessionManagementFilter@7a9ceddf, org.springframework.security.web.access.ExceptionTranslationFilter@7fda2001, org.springframework.security.web.access.intercept.AuthorizationFilter@ee8e7ff]
2023-01-28T01:35:01.403-03:00  INFO 19788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-01-28T01:35:01.418-03:00  INFO 19788 --- [main] com.example.ec.ExplorecaliApplication    : Started ExplorecaliApplication in 5.388 seconds (process running for 6.059)
2023-01-28T01:35:04.685-03:00  INFO 19788 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T01:35:04.685-03:00  INFO 19788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T01:35:04.686-03:00  INFO 19788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2023-01-28T01:36:15.913-03:00  INFO 19788 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:36:15.915-03:00  INFO 19788 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T01:36:15.917-03:00  INFO 19788 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T01:36:24.448-03:00  INFO 1232 --- [main] c.e.ec.ExplorecaliApplicationTests       : Starting ExplorecaliApplicationTests using Java 18.0.2.1 with PID 1232 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:36:24.449-03:00 DEBUG 1232 --- [main] c.e.ec.ExplorecaliApplicationTests       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:36:24.450-03:00  INFO 1232 --- [main] c.e.ec.ExplorecaliApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:36:25.110-03:00  INFO 1232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:36:25.164-03:00  INFO 1232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 5 JPA repository interfaces.
2023-01-28T01:36:25.629-03:00  INFO 1232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T01:36:25.796-03:00  INFO 1232 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:b25563b2-0b2e-4e05-9771-31def1d1a9dc user=SA
2023-01-28T01:36:25.798-03:00  INFO 1232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T01:36:25.951-03:00  INFO 1232 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:36:26.004-03:00  INFO 1232 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T01:36:26.038-03:00  WARN 1232 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:36:26.148-03:00  INFO 1232 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:36:26.724-03:00  INFO 1232 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:36:26.731-03:00  INFO 1232 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:36:27.387-03:00  WARN 1232 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:36:28.290-03:00  INFO 1232 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4353230, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9214725, org.springframework.security.web.context.SecurityContextHolderFilter@5122387, org.springframework.security.web.header.HeaderWriterFilter@4458887d, org.springframework.security.web.authentication.logout.LogoutFilter@345f4e0d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11b234aa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1455a374, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@289d9f0d, org.springframework.security.web.session.SessionManagementFilter@c7008b4, org.springframework.security.web.access.ExceptionTranslationFilter@4a234e1f, org.springframework.security.web.access.intercept.AuthorizationFilter@5d3a147f]
2023-01-28T01:36:28.774-03:00  INFO 1232 --- [main] c.e.ec.ExplorecaliApplicationTests       : Started ExplorecaliApplicationTests in 4.539 seconds (process running for 5.845)
2023-01-28T01:36:28.799-03:00  INFO 1232 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.repo.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:36:28.805-03:00  INFO 1232 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.repo.UserRepositoryTest
2023-01-28T01:36:28.929-03:00  INFO 1232 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.TourRatingServiceIntegrationTest]: TourRatingServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:36:28.935-03:00  INFO 1232 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.TourRatingServiceIntegrationTest
2023-01-28T01:36:28.947-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:36:28.982-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:36:28.987-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 4
2023-01-28T01:36:28.996-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:36:29.010-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:36:29.020-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:36:29.028-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:36:29.031-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:36:29.037-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:36:29.041-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [100, 101, 102]
2023-01-28T01:36:29.041-03:00 DEBUG 1232 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 100
2023-01-28T01:36:29.042-03:00 DEBUG 1232 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 101
2023-01-28T01:36:29.043-03:00 DEBUG 1232 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 102
2023-01-28T01:36:29.044-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:36:29.051-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:36:29.227-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:36:29.233-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 123
2023-01-28T01:36:29.240-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 123
2023-01-28T01:36:29.242-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Update some of Rating for tour 1 of customers 123
2023-01-28T01:36:29.244-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [123, 124]
2023-01-28T01:36:29.244-03:00 DEBUG 1232 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 123
2023-01-28T01:36:29.244-03:00 DEBUG 1232 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 124
2023-01-28T01:36:29.247-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 123
2023-01-28T01:36:29.250-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:36:29.305-03:00  INFO 1232 --- [main] c.example.ec.service.TourRatingService   : Lookup Rating for tour 1
2023-01-28T01:36:29.307-03:00  INFO 1232 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.UserServiceIntegrationTest]: UserServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:36:29.309-03:00  INFO 1232 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.UserServiceIntegrationTest
2023-01-28T01:36:29.317-03:00  INFO 1232 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T01:36:29.704-03:00  INFO 1232 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.RatingControllerTest]: RatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:36:29.712-03:00  INFO 1232 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.RatingControllerTest
2023-01-28T01:36:29.734-03:00  INFO 1232 --- [main] c.example.ec.web.RatingControllerTest    : Starting RatingControllerTest using Java 18.0.2.1 with PID 1232 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:36:29.734-03:00 DEBUG 1232 --- [main] c.example.ec.web.RatingControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:36:29.734-03:00  INFO 1232 --- [main] c.example.ec.web.RatingControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:36:29.877-03:00  INFO 1232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:36:29.888-03:00  INFO 1232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 5 JPA repository interfaces.
2023-01-28T01:36:30.073-03:00  INFO 1232 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:36:30.082-03:00  INFO 1232 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:36:30.082-03:00  INFO 1232 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:36:30.148-03:00  INFO 1232 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T01:36:30.149-03:00  INFO 1232 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 413 ms
2023-01-28T01:36:30.211-03:00  INFO 1232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-01-28T01:36:30.215-03:00  INFO 1232 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:5e9e4a14-736a-462a-9a98-cf5162560c04 user=SA
2023-01-28T01:36:30.216-03:00  INFO 1232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-01-28T01:36:30.252-03:00  INFO 1232 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:36:30.254-03:00  WARN 1232 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:36:30.258-03:00  INFO 1232 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:36:30.311-03:00  INFO 1232 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:36:30.312-03:00  INFO 1232 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:36:30.445-03:00  WARN 1232 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:36:31.286-03:00  INFO 1232 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2fc8e9b8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f978bb1, org.springframework.security.web.context.SecurityContextHolderFilter@282919de, org.springframework.security.web.header.HeaderWriterFilter@223c1a82, org.springframework.security.web.authentication.logout.LogoutFilter@52ac4878, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c8293cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e2860d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11987483, org.springframework.security.web.session.SessionManagementFilter@144d064a, org.springframework.security.web.access.ExceptionTranslationFilter@7c0b0090, org.springframework.security.web.access.intercept.AuthorizationFilter@478b5a43]
2023-01-28T01:36:31.562-03:00  INFO 1232 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 63342 (http) with context path ''
2023-01-28T01:36:31.566-03:00  INFO 1232 --- [main] c.example.ec.web.RatingControllerTest    : Started RatingControllerTest in 1.85 seconds (process running for 8.637)
2023-01-28T01:36:31.705-03:00  INFO 1232 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T01:36:31.705-03:00  INFO 1232 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T01:36:31.706-03:00  INFO 1232 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-01-28T01:36:31.735-03:00  INFO 1232 --- [http-nio-auto-1-exec-1] com.example.ec.web.RatingController      : GET /ratings/{id}
2023-01-28T01:36:31.798-03:00  INFO 1232 --- [http-nio-auto-1-exec-2] com.example.ec.web.RatingController      : GET /ratings
2023-01-28T01:36:31.809-03:00  INFO 1232 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.TourRatingControllerTest]: TourRatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:36:31.810-03:00  INFO 1232 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.TourRatingControllerTest
2023-01-28T01:36:31.821-03:00  INFO 1232 --- [http-nio-auto-1-exec-3] c.example.ec.web.TourRatingController    : DELETE /tours/999/ratings/1000
2023-01-28T01:36:31.835-03:00  INFO 1232 --- [http-nio-auto-1-exec-4] c.example.ec.web.TourRatingController    : GET /tours/999/ratings
2023-01-28T01:36:31.890-03:00  INFO 1232 --- [http-nio-auto-1-exec-5] c.example.ec.web.TourRatingController    : PUT /tours/999/ratings
2023-01-28T01:36:31.903-03:00  INFO 1232 --- [http-nio-auto-1-exec-6] c.example.ec.web.TourRatingController    : POST /tours/999/ratings
2023-01-28T01:36:31.911-03:00  INFO 1232 --- [http-nio-auto-1-exec-7] c.example.ec.web.TourRatingController    : GET /tours/999/ratings/average
2023-01-28T01:36:31.922-03:00  INFO 1232 --- [http-nio-auto-1-exec-8] c.example.ec.web.TourRatingController    : POST /tours/999/ratings/3
2023-01-28T01:36:31.938-03:00  INFO 1232 --- [http-nio-auto-1-exec-9] c.example.ec.web.TourRatingController    : PATCH /tours/999/ratings
2023-01-28T01:36:31.944-03:00  INFO 1232 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:36:31.945-03:00  INFO 1232 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.UserControllerTest
2023-01-28T01:36:31.964-03:00  INFO 1232 --- [main] com.example.ec.web.UserControllerTest    : Starting UserControllerTest using Java 18.0.2.1 with PID 1232 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:36:31.964-03:00 DEBUG 1232 --- [main] com.example.ec.web.UserControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:36:31.964-03:00  INFO 1232 --- [main] com.example.ec.web.UserControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:36:32.092-03:00  INFO 1232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:36:32.101-03:00  INFO 1232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 5 JPA repository interfaces.
2023-01-28T01:36:32.171-03:00  INFO 1232 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:36:32.172-03:00  INFO 1232 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:36:32.172-03:00  INFO 1232 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:36:32.196-03:00  INFO 1232 --- [main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-01-28T01:36:32.196-03:00  INFO 1232 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 231 ms
2023-01-28T01:36:32.248-03:00  INFO 1232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2023-01-28T01:36:32.282-03:00  INFO 1232 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:1acd5c6c-c520-49b9-942d-c0568af5f365 user=SA
2023-01-28T01:36:32.282-03:00  INFO 1232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2023-01-28T01:36:32.312-03:00  INFO 1232 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:36:32.314-03:00  WARN 1232 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:36:32.317-03:00  INFO 1232 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:36:32.363-03:00  INFO 1232 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:36:32.363-03:00  INFO 1232 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:36:32.505-03:00  WARN 1232 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:36:33.360-03:00  INFO 1232 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79cc08fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46a9af36, org.springframework.security.web.context.SecurityContextHolderFilter@78ef5801, org.springframework.security.web.header.HeaderWriterFilter@79dba8fc, org.springframework.security.web.authentication.logout.LogoutFilter@4dce4286, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6969e079, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4dd139e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d1b97e4, org.springframework.security.web.session.SessionManagementFilter@32561cd5, org.springframework.security.web.access.ExceptionTranslationFilter@19d118d5, org.springframework.security.web.access.intercept.AuthorizationFilter@2f5823c7]
2023-01-28T01:36:33.479-03:00  INFO 1232 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 63349 (http) with context path ''
2023-01-28T01:36:33.482-03:00  INFO 1232 --- [main] com.example.ec.web.UserControllerTest    : Started UserControllerTest in 1.534 seconds (process running for 10.553)
2023-01-28T01:36:33.529-03:00  INFO 1232 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:36:33.530-03:00  INFO 1232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T01:36:33.566-03:00  INFO 1232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T01:36:33.581-03:00  INFO 1232 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:36:33.581-03:00  INFO 1232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-01-28T01:36:33.621-03:00  INFO 1232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2023-01-28T01:36:33.630-03:00  INFO 1232 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:36:33.630-03:00  INFO 1232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2023-01-28T01:36:33.662-03:00  INFO 1232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2023-01-28T01:36:39.782-03:00  INFO 24980 --- [main] com.example.ec.ExplorecaliApplication    : Starting ExplorecaliApplication v0.0.1-SNAPSHOT using Java 18.0.2.1 with PID 24980 (D:\javaestudos\explorecali\target\explorecali-0.0.1-SNAPSHOT.jar started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:36:39.784-03:00 DEBUG 24980 --- [main] com.example.ec.ExplorecaliApplication    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:36:39.785-03:00  INFO 24980 --- [main] com.example.ec.ExplorecaliApplication    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:36:40.683-03:00  INFO 24980 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:36:40.740-03:00  INFO 24980 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2023-01-28T01:36:41.390-03:00  INFO 24980 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-01-28T01:36:41.402-03:00  INFO 24980 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:36:41.402-03:00  INFO 24980 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:36:41.470-03:00  INFO 24980 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T01:36:41.471-03:00  INFO 24980 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1638 ms
2023-01-28T01:36:41.567-03:00  INFO 24980 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T01:36:41.756-03:00  INFO 24980 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:b08d21a2-e416-430c-8569-7464e0b075bc user=SA
2023-01-28T01:36:41.758-03:00  INFO 24980 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T01:36:41.903-03:00  INFO 24980 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:36:41.956-03:00  INFO 24980 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T01:36:42.085-03:00  WARN 24980 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:36:42.191-03:00  INFO 24980 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:36:42.881-03:00  INFO 24980 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:36:42.888-03:00  INFO 24980 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:36:43.509-03:00  WARN 24980 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:36:44.282-03:00  INFO 24980 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@679dd234, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60cb1ed6, org.springframework.security.web.context.SecurityContextHolderFilter@4c6a4ffd, org.springframework.security.web.header.HeaderWriterFilter@3ab35b9c, org.springframework.security.web.authentication.logout.LogoutFilter@3e214105, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f1a9a53, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ca3d25b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e5eb20a, org.springframework.security.web.session.SessionManagementFilter@6042d663, org.springframework.security.web.access.ExceptionTranslationFilter@3c232051, org.springframework.security.web.access.intercept.AuthorizationFilter@6f5d0190]
2023-01-28T01:36:44.647-03:00  INFO 24980 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-01-28T01:36:44.662-03:00  INFO 24980 --- [main] com.example.ec.ExplorecaliApplication    : Started ExplorecaliApplication in 5.183 seconds (process running for 5.768)
2023-01-28T01:37:23.607-03:00  INFO 24980 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T01:37:23.608-03:00  INFO 24980 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T01:37:23.609-03:00  INFO 24980 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-01-28T01:37:23.721-03:00 ERROR 24980 --- [http-nio-8080-exec-1] com.example.ec.web.UserController        : Unable to complete transaction

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:257)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.example.ec.web.UserController$$SpringCGLIB$$0.signup(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:69)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)

2023-01-28T01:37:47.504-03:00  INFO 24980 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:37:47.505-03:00  INFO 24980 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T01:37:47.508-03:00  INFO 24980 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T01:37:55.275-03:00  INFO 19712 --- [main] c.e.ec.ExplorecaliApplicationTests       : Starting ExplorecaliApplicationTests using Java 18.0.2.1 with PID 19712 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:37:55.276-03:00 DEBUG 19712 --- [main] c.e.ec.ExplorecaliApplicationTests       : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:37:55.277-03:00  INFO 19712 --- [main] c.e.ec.ExplorecaliApplicationTests       : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:37:55.928-03:00  INFO 19712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:37:55.985-03:00  INFO 19712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 5 JPA repository interfaces.
2023-01-28T01:37:56.463-03:00  INFO 19712 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T01:37:56.613-03:00  INFO 19712 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:7b8209b8-fda8-4158-b899-ab004004a7b7 user=SA
2023-01-28T01:37:56.614-03:00  INFO 19712 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T01:37:56.759-03:00  INFO 19712 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:37:56.800-03:00  INFO 19712 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T01:37:56.834-03:00  WARN 19712 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:37:56.939-03:00  INFO 19712 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:37:57.544-03:00  INFO 19712 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:37:57.552-03:00  INFO 19712 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:37:58.201-03:00  WARN 19712 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:37:59.090-03:00  INFO 19712 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@9214725, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@289d9f0d, org.springframework.security.web.context.SecurityContextHolderFilter@9abbe39, org.springframework.security.web.header.HeaderWriterFilter@7b1bb01c, org.springframework.security.web.authentication.logout.LogoutFilter@1c3eeda4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1455a374, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cfb462, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39aaa7db, org.springframework.security.web.session.SessionManagementFilter@3f54fabc, org.springframework.security.web.access.ExceptionTranslationFilter@406cc81b, org.springframework.security.web.access.intercept.AuthorizationFilter@79bb14d8]
2023-01-28T01:37:59.504-03:00  INFO 19712 --- [main] c.e.ec.ExplorecaliApplicationTests       : Started ExplorecaliApplicationTests in 4.423 seconds (process running for 5.712)
2023-01-28T01:37:59.529-03:00  INFO 19712 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.repo.UserRepositoryTest]: UserRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:37:59.535-03:00  INFO 19712 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.repo.UserRepositoryTest
2023-01-28T01:37:59.666-03:00  INFO 19712 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.TourRatingServiceIntegrationTest]: TourRatingServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:37:59.672-03:00  INFO 19712 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.TourRatingServiceIntegrationTest
2023-01-28T01:37:59.682-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:37:59.711-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:37:59.716-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 4
2023-01-28T01:37:59.723-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:37:59.736-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:37:59.746-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:37:59.754-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:37:59.757-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 456
2023-01-28T01:37:59.762-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:37:59.766-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [100, 101, 102]
2023-01-28T01:37:59.766-03:00 DEBUG 19712 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 100
2023-01-28T01:37:59.767-03:00 DEBUG 19712 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 101
2023-01-28T01:37:59.768-03:00 DEBUG 19712 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 102
2023-01-28T01:37:59.768-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:37:59.773-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 456
2023-01-28T01:37:59.928-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Get average score of tour 1 by customers {}
2023-01-28T01:37:59.933-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Delete Rating for tour 1 and customer 123
2023-01-28T01:37:59.942-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Update all of Rating for tour 1 of customers 123
2023-01-28T01:37:59.944-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Update some of Rating for tour 1 of customers 123
2023-01-28T01:37:59.947-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Rate tour 1 by customers [123, 124]
2023-01-28T01:37:59.947-03:00 DEBUG 19712 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 123
2023-01-28T01:37:59.947-03:00 DEBUG 19712 --- [main] c.example.ec.service.TourRatingService   : Attempt to create Tour Rating for customer 124
2023-01-28T01:37:59.950-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Create Rating for tour 1 of customers 123
2023-01-28T01:37:59.953-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Lookup all Ratings
2023-01-28T01:38:00.002-03:00  INFO 19712 --- [main] c.example.ec.service.TourRatingService   : Lookup Rating for tour 1
2023-01-28T01:38:00.005-03:00  INFO 19712 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.service.UserServiceIntegrationTest]: UserServiceIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:38:00.006-03:00  INFO 19712 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.service.UserServiceIntegrationTest
2023-01-28T01:38:00.012-03:00  INFO 19712 --- [main] com.example.ec.service.UserService       : john doe is signing up with username: dummyUsername, password: dummypassword and role: ROLE_CSR.
2023-01-28T01:38:00.398-03:00  INFO 19712 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.RatingControllerTest]: RatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:38:00.405-03:00  INFO 19712 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.RatingControllerTest
2023-01-28T01:38:00.425-03:00  INFO 19712 --- [main] c.example.ec.web.RatingControllerTest    : Starting RatingControllerTest using Java 18.0.2.1 with PID 19712 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:38:00.425-03:00 DEBUG 19712 --- [main] c.example.ec.web.RatingControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:38:00.426-03:00  INFO 19712 --- [main] c.example.ec.web.RatingControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:38:00.565-03:00  INFO 19712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:38:00.575-03:00  INFO 19712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 5 JPA repository interfaces.
2023-01-28T01:38:00.739-03:00  INFO 19712 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:38:00.746-03:00  INFO 19712 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:38:00.747-03:00  INFO 19712 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:38:00.815-03:00  INFO 19712 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T01:38:00.815-03:00  INFO 19712 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 388 ms
2023-01-28T01:38:00.873-03:00  INFO 19712 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-01-28T01:38:00.877-03:00  INFO 19712 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:b92615f1-8059-49be-97c5-64c12e94ed58 user=SA
2023-01-28T01:38:00.877-03:00  INFO 19712 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-01-28T01:38:00.910-03:00  INFO 19712 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:38:00.913-03:00  WARN 19712 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:38:00.916-03:00  INFO 19712 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:38:00.970-03:00  INFO 19712 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:38:00.970-03:00  INFO 19712 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:38:01.096-03:00  WARN 19712 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:38:01.784-03:00  INFO 19712 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@322b500a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52ac4878, org.springframework.security.web.context.SecurityContextHolderFilter@28728558, org.springframework.security.web.header.HeaderWriterFilter@2ace94ff, org.springframework.security.web.authentication.logout.LogoutFilter@282919de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c0b0090, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@223c1a82, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a28852d, org.springframework.security.web.session.SessionManagementFilter@58bdcf40, org.springframework.security.web.access.ExceptionTranslationFilter@6706657b, org.springframework.security.web.access.intercept.AuthorizationFilter@4e2860d3]
2023-01-28T01:38:02.027-03:00  INFO 19712 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 63401 (http) with context path ''
2023-01-28T01:38:02.031-03:00  INFO 19712 --- [main] c.example.ec.web.RatingControllerTest    : Started RatingControllerTest in 1.622 seconds (process running for 8.239)
2023-01-28T01:38:02.159-03:00  INFO 19712 --- [http-nio-auto-1-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T01:38:02.159-03:00  INFO 19712 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T01:38:02.160-03:00  INFO 19712 --- [http-nio-auto-1-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2023-01-28T01:38:02.188-03:00  INFO 19712 --- [http-nio-auto-1-exec-1] com.example.ec.web.RatingController      : GET /ratings/{id}
2023-01-28T01:38:02.253-03:00  INFO 19712 --- [http-nio-auto-1-exec-2] com.example.ec.web.RatingController      : GET /ratings
2023-01-28T01:38:02.263-03:00  INFO 19712 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.TourRatingControllerTest]: TourRatingControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:38:02.264-03:00  INFO 19712 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.TourRatingControllerTest
2023-01-28T01:38:02.275-03:00  INFO 19712 --- [http-nio-auto-1-exec-3] c.example.ec.web.TourRatingController    : DELETE /tours/999/ratings/1000
2023-01-28T01:38:02.294-03:00  INFO 19712 --- [http-nio-auto-1-exec-4] c.example.ec.web.TourRatingController    : GET /tours/999/ratings
2023-01-28T01:38:02.364-03:00  INFO 19712 --- [http-nio-auto-1-exec-5] c.example.ec.web.TourRatingController    : PUT /tours/999/ratings
2023-01-28T01:38:02.380-03:00  INFO 19712 --- [http-nio-auto-1-exec-6] c.example.ec.web.TourRatingController    : POST /tours/999/ratings
2023-01-28T01:38:02.392-03:00  INFO 19712 --- [http-nio-auto-1-exec-7] c.example.ec.web.TourRatingController    : GET /tours/999/ratings/average
2023-01-28T01:38:02.404-03:00  INFO 19712 --- [http-nio-auto-1-exec-8] c.example.ec.web.TourRatingController    : POST /tours/999/ratings/3
2023-01-28T01:38:02.420-03:00  INFO 19712 --- [http-nio-auto-1-exec-9] c.example.ec.web.TourRatingController    : PATCH /tours/999/ratings
2023-01-28T01:38:02.426-03:00  INFO 19712 --- [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.example.ec.web.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-01-28T01:38:02.427-03:00  INFO 19712 --- [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.example.ec.ExplorecaliApplication for test class com.example.ec.web.UserControllerTest
2023-01-28T01:38:02.442-03:00  INFO 19712 --- [main] com.example.ec.web.UserControllerTest    : Starting UserControllerTest using Java 18.0.2.1 with PID 19712 (started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:38:02.442-03:00 DEBUG 19712 --- [main] com.example.ec.web.UserControllerTest    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:38:02.443-03:00  INFO 19712 --- [main] com.example.ec.web.UserControllerTest    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:38:02.578-03:00  INFO 19712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:38:02.587-03:00  INFO 19712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 5 JPA repository interfaces.
2023-01-28T01:38:02.646-03:00  INFO 19712 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 0 (http)
2023-01-28T01:38:02.647-03:00  INFO 19712 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:38:02.647-03:00  INFO 19712 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:38:02.669-03:00  INFO 19712 --- [main] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-01-28T01:38:02.669-03:00  INFO 19712 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 225 ms
2023-01-28T01:38:02.707-03:00  INFO 19712 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2023-01-28T01:38:02.726-03:00  INFO 19712 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection conn20: url=jdbc:h2:mem:6409169b-2354-4b59-b1e5-3be98bfd1b94 user=SA
2023-01-28T01:38:02.726-03:00  INFO 19712 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2023-01-28T01:38:02.751-03:00  INFO 19712 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:38:02.754-03:00  WARN 19712 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:38:02.756-03:00  INFO 19712 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:38:02.798-03:00  INFO 19712 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:38:02.798-03:00  INFO 19712 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:38:02.904-03:00  WARN 19712 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:38:03.788-03:00  INFO 19712 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4f63343b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4dce4286, org.springframework.security.web.context.SecurityContextHolderFilter@183a593f, org.springframework.security.web.header.HeaderWriterFilter@60a0094a, org.springframework.security.web.authentication.logout.LogoutFilter@78ef5801, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19d118d5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79dba8fc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b82196e, org.springframework.security.web.session.SessionManagementFilter@276d957f, org.springframework.security.web.access.ExceptionTranslationFilter@65ec90d5, org.springframework.security.web.access.intercept.AuthorizationFilter@4dd139e0]
2023-01-28T01:38:03.896-03:00  INFO 19712 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 63407 (http) with context path ''
2023-01-28T01:38:03.902-03:00  INFO 19712 --- [main] com.example.ec.web.UserControllerTest    : Started UserControllerTest in 1.471 seconds (process running for 10.11)
2023-01-28T01:38:03.964-03:00  INFO 19712 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:38:03.966-03:00  INFO 19712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T01:38:03.998-03:00  INFO 19712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-01-28T01:38:04.012-03:00  INFO 19712 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:38:04.012-03:00  INFO 19712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-01-28T01:38:04.039-03:00  INFO 19712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2023-01-28T01:38:04.048-03:00  INFO 19712 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:38:04.048-03:00  INFO 19712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2023-01-28T01:38:04.074-03:00  INFO 19712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2023-01-28T01:38:09.886-03:00  INFO 11392 --- [main] com.example.ec.ExplorecaliApplication    : Starting ExplorecaliApplication v0.0.1-SNAPSHOT using Java 18.0.2.1 with PID 11392 (D:\javaestudos\explorecali\target\explorecali-0.0.1-SNAPSHOT.jar started by Victor in D:\javaestudos\explorecali)
2023-01-28T01:38:09.888-03:00 DEBUG 11392 --- [main] com.example.ec.ExplorecaliApplication    : Running with Spring Boot v3.0.0, Spring v6.0.2
2023-01-28T01:38:09.889-03:00  INFO 11392 --- [main] com.example.ec.ExplorecaliApplication    : No active profile set, falling back to 1 default profile: "default"
2023-01-28T01:38:10.702-03:00  INFO 11392 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-28T01:38:10.752-03:00  INFO 11392 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2023-01-28T01:38:11.397-03:00  INFO 11392 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-01-28T01:38:11.408-03:00  INFO 11392 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-01-28T01:38:11.408-03:00  INFO 11392 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.1]
2023-01-28T01:38:11.478-03:00  INFO 11392 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-01-28T01:38:11.479-03:00  INFO 11392 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1542 ms
2023-01-28T01:38:11.574-03:00  INFO 11392 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-01-28T01:38:11.775-03:00  INFO 11392 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:510490b1-9f4d-4996-9693-21f43e3a9586 user=SA
2023-01-28T01:38:11.777-03:00  INFO 11392 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-01-28T01:38:11.911-03:00  INFO 11392 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-28T01:38:11.961-03:00  INFO 11392 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.5.Final
2023-01-28T01:38:12.099-03:00  WARN 11392 --- [main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2023-01-28T01:38:12.200-03:00  INFO 11392 --- [main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-01-28T01:38:12.882-03:00  INFO 11392 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-28T01:38:12.889-03:00  INFO 11392 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:38:13.554-03:00  WARN 11392 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-28T01:38:14.405-03:00  INFO 11392 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24043ec5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e33b52e, org.springframework.security.web.context.SecurityContextHolderFilter@12f279b5, org.springframework.security.web.header.HeaderWriterFilter@abad89c, org.springframework.security.web.authentication.logout.LogoutFilter@3fbe503c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fcd1f0a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7e64c1a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c6a4ffd, org.springframework.security.web.session.SessionManagementFilter@4c302f38, org.springframework.security.web.access.ExceptionTranslationFilter@715a70e9, org.springframework.security.web.access.intercept.AuthorizationFilter@61ff6a49]
2023-01-28T01:38:14.810-03:00  INFO 11392 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-01-28T01:38:14.824-03:00  INFO 11392 --- [main] com.example.ec.ExplorecaliApplication    : Started ExplorecaliApplication in 5.243 seconds (process running for 5.869)
2023-01-28T01:38:19.198-03:00  INFO 11392 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-28T01:38:19.199-03:00  INFO 11392 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-01-28T01:38:19.202-03:00  INFO 11392 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-01-28T01:38:19.417-03:00  INFO 11392 --- [http-nio-8080-exec-1] com.example.ec.service.UserService       : John Smith is signing up with username: smithjohn, password: mysecretpassword and role: ROLE_CSR.
2023-01-28T01:38:49.947-03:00  INFO 11392 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-28T01:38:49.949-03:00  INFO 11392 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-01-28T01:38:49.951-03:00  INFO 11392 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
